{
  "missing_tables": [
    {
      "table_name": "agi_audit_aggregates",
      "columns": [
        {
          "column_name": "id",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "nextval('agi_audit_aggregates_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "column_name": "period_start",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "period_end",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "event_type",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "severity",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "count",
          "data_type": "bigint",
          "character_maximum_length": null,
          "numeric_precision": 64,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "column_name": "unique_users",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "agi_audit_alerts",
      "columns": [
        {
          "column_name": "id",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "nextval('agi_audit_alerts_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "column_name": "alert_type",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "severity",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "event_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "time_window_minutes",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "triggered_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 6
        },
        {
          "column_name": "resolved_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "alert_data",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "acknowledged",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 9
        },
        {
          "column_name": "acknowledged_by",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "acknowledged_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "agi_audit_logs",
      "columns": [
        {
          "column_name": "id",
          "data_type": "bigint",
          "character_maximum_length": null,
          "numeric_precision": 64,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "nextval('agi_audit_logs_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "column_name": "event_type",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "severity",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "user_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "session_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "resource_type",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "resource_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "action",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "result",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "ip_address",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "error_message",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "stack_trace",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 14
        },
        {
          "column_name": "event_hash",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "timestamp",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 17
        }
      ]
    },
    {
      "table_name": "agi_rate_limit_buckets",
      "columns": [
        {
          "column_name": "key",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "column_name": "tokens",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "last_update",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "agi_rate_limit_rules",
      "columns": [
        {
          "column_name": "name",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "column_name": "scope",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "strategy",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "limit_value",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "window_seconds",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "burst_size",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "priority",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "enabled",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 8
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 9
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 10
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "agi_rate_limit_violations",
      "columns": [
        {
          "column_name": "id",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "nextval('agi_rate_limit_violations_id_seq'::regclass)",
          "ordinal_position": 1
        },
        {
          "column_name": "rule_name",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "identifier",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "resource",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "attempts",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "window_start",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "window_end",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 9
        }
      ]
    }
  ],
  "missing_columns": [
    {
      "table_name": "age_verification_logs",
      "columns": [
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "timestamp",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 4
        },
        {
          "column_name": "age_info",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "ai_conversations",
      "columns": [
        {
          "column_name": "personality_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "messages",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 7
        },
        {
          "column_name": "customer_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "context",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "agent_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 6
        },
        {
          "column_name": "conversation_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": "gen_random_uuid()",
          "ordinal_position": 1
        }
      ]
    },
    {
      "table_name": "ai_personalities",
      "columns": [
        {
          "column_name": "voice_config",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 7
        },
        {
          "column_name": "avatar_url",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 13
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "is_default",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 11
        },
        {
          "column_name": "traits",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "ai_training_data",
      "columns": [
        {
          "column_name": "feedback_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "customer_message",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "model_confidence",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "search_results",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "correction",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "inferred_params",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "customer_action",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "response_time_ms",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "api_keys",
      "columns": [
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 10
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 12
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "allowed_stores",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "last_used",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "audit_log",
      "columns": [
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "success",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 9
        },
        {
          "column_name": "store_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "resource_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "auth_tokens",
      "columns": [
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 7
        },
        {
          "column_name": "is_used",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 6
        },
        {
          "column_name": "used_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "batch_tracking",
      "columns": [
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 10
        },
        {
          "column_name": "purchase_order_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "gtin_barcode",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "batch_lot",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "unit_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "each_gtin",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "location_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "case_gtin",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "packaged_on_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        }
      ]
    },
    {
      "table_name": "broadcast_audit_logs",
      "columns": [
        {
          "column_name": "user_role",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "new_values",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "details",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 9
        },
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "old_values",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "action_category",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "broadcast_messages",
      "columns": [
        {
          "column_name": "priority",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'normal'::character varying",
          "ordinal_position": 17
        },
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 16
        },
        {
          "column_name": "preview_text",
          "data_type": "character varying",
          "character_maximum_length": 160,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "push_title",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "template_variables",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "channel_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "content",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 19
        },
        {
          "column_name": "sender_phone",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "sender_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "push_image_url",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "push_action_url",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "push_badge_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "template_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "sender_email",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        }
      ]
    },
    {
      "table_name": "broadcast_recipients",
      "columns": [
        {
          "column_name": "sms_retry_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 27
        },
        {
          "column_name": "email_retry_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 26
        },
        {
          "column_name": "email_clicked_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "sms_error",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "email_error",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 23
        },
        {
          "column_name": "email_opened_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "push_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'pending'::character varying",
          "ordinal_position": 10
        },
        {
          "column_name": "email_unsubscribed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "push_retry_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 28
        },
        {
          "column_name": "customer_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "sms_delivered_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "sms_replied_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "push_delivered_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "sms_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'pending'::character varying",
          "ordinal_position": 9
        },
        {
          "column_name": "phone_number",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 30
        },
        {
          "column_name": "channels",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 7
        },
        {
          "column_name": "email_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'pending'::character varying",
          "ordinal_position": 8
        },
        {
          "column_name": "email",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "email_sent_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "push_error",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 25
        },
        {
          "column_name": "push_opened_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 22
        },
        {
          "column_name": "sms_sent_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "push_sent_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "email_bounced_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "email_delivered_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "push_token",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "broadcast_segments",
      "columns": [
        {
          "column_name": "criteria",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "broadcast_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "recipient_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "last_calculated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "broadcasts",
      "columns": [
        {
          "column_name": "max_retries",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "3",
          "ordinal_position": 18
        },
        {
          "column_name": "successful_sends",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        },
        {
          "column_name": "cancelled_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "completed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 22
        },
        {
          "column_name": "send_immediately",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 15
        },
        {
          "column_name": "started_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "retry_failed",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 17
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "failed_sends",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 14
        },
        {
          "column_name": "tags",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "respect_quiet_hours",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 16
        }
      ]
    },
    {
      "table_name": "bundle_deals",
      "columns": [
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 14
        },
        {
          "column_name": "bundle_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "min_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "1",
          "ordinal_position": 7
        },
        {
          "column_name": "discount_percentage",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "require_all_items",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 13
        },
        {
          "column_name": "max_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "start_date",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "allow_substitutions",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 18
        },
        {
          "column_name": "optional_products",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 200,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "end_date",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "required_products",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "cart_sessions",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'active'::character varying",
          "ordinal_position": 12
        },
        {
          "column_name": "discount_codes",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 11
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "user_profile_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "ai_personality_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "tax_calculation",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "delivery_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "chat_interactions",
      "columns": [
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "response_time",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "ai_response",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "customer_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "user_message",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "communication_analytics",
      "columns": [
        {
          "column_name": "sms_sent",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "email_open_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "email_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 20
        },
        {
          "column_name": "push_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 22
        },
        {
          "column_name": "email_clicked",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "column_name": "email_delivered",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "sms_delivered",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 10
        },
        {
          "column_name": "sms_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 21
        },
        {
          "column_name": "calculated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 25
        },
        {
          "column_name": "push_open_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "total_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 23
        },
        {
          "column_name": "push_failed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 16
        },
        {
          "column_name": "push_delivered",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 14
        },
        {
          "column_name": "push_sent",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        },
        {
          "column_name": "broadcast_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "email_click_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "email_opened",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "sms_failed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 11
        },
        {
          "column_name": "sms_replied",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "column_name": "push_opened",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 15
        },
        {
          "column_name": "email_sent",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 3
        },
        {
          "column_name": "email_unsubscribed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        },
        {
          "column_name": "email_bounced",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "avg_delivery_time_seconds",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        }
      ]
    },
    {
      "table_name": "communication_logs",
      "columns": [
        {
          "column_name": "retry_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "column_name": "content",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "provider_response",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 15
        },
        {
          "column_name": "delivered_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        }
      ]
    },
    {
      "table_name": "communication_preferences",
      "columns": [
        {
          "column_name": "channel_push",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 5
        },
        {
          "column_name": "transactional",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 7
        },
        {
          "column_name": "quiet_hours_end",
          "data_type": "time without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "email_unsubscribe_token",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "last_sms_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "max_push_per_day",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "10",
          "ordinal_position": 12
        },
        {
          "column_name": "preferred_language",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'en'::character varying",
          "ordinal_position": 17
        },
        {
          "column_name": "last_email_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "alerts",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 8
        },
        {
          "column_name": "max_emails_per_day",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "5",
          "ordinal_position": 10
        },
        {
          "column_name": "quiet_hours_start",
          "data_type": "time without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "promotional",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 6
        },
        {
          "column_name": "customer_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "last_push_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 22
        },
        {
          "column_name": "quiet_hours_enabled",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 13
        },
        {
          "column_name": "sms_unsubscribe_token",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "channel_sms",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 4
        },
        {
          "column_name": "channel_email",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 3
        },
        {
          "column_name": "timezone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'America/Toronto'::character varying",
          "ordinal_position": 16
        },
        {
          "column_name": "max_sms_per_day",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "3",
          "ordinal_position": 11
        },
        {
          "column_name": "frequency",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'normal'::character varying",
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "conversation_states",
      "columns": [
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "intent_history",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "previous_stage",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "engagement_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0.5",
          "ordinal_position": 10
        },
        {
          "column_name": "total_duration_seconds",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 15
        },
        {
          "column_name": "stage_start_time",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 11
        },
        {
          "column_name": "resistance_level",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0.0",
          "ordinal_position": 9
        },
        {
          "column_name": "current_stage",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 14
        },
        {
          "column_name": "stage_history",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 6
        },
        {
          "column_name": "message_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        }
      ]
    },
    {
      "table_name": "conversion_metrics",
      "columns": [
        {
          "column_name": "cart_removals",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "converted",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "conversion_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0.0",
          "ordinal_position": 11
        },
        {
          "column_name": "engagement_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0.0",
          "ordinal_position": 10
        },
        {
          "column_name": "stage_transitions",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 4
        },
        {
          "column_name": "abandonment_stage",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "total_session_duration_seconds",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "products_viewed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        },
        {
          "column_name": "conversion_events",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 5
        },
        {
          "column_name": "cart_additions",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "column_name": "abandonment_reason",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        }
      ]
    },
    {
      "table_name": "customer_pricing_rules",
      "columns": [
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 10
        },
        {
          "column_name": "volume_discounts",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "negotiated_products",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "custom_markup_percentage",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 14
        },
        {
          "column_name": "early_payment_discount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "price_tier_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "payment_terms",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "category_discounts",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "customer_reviews",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'pending'::character varying",
          "ordinal_position": 12
        },
        {
          "column_name": "is_recommended",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 8
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "deliveries",
      "columns": [
        {
          "column_name": "id_verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 30
        },
        {
          "column_name": "batch_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 34
        },
        {
          "column_name": "feedback",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 37
        },
        {
          "column_name": "issues_reported",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 38
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 39
        },
        {
          "column_name": "scheduled_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "signature_captured_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 28
        },
        {
          "column_name": "delivery_notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "age_verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 33
        },
        {
          "column_name": "delivery_longitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 11,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "customer_name",
          "data_type": "character varying",
          "character_maximum_length": 200,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "completed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "customer_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "assigned_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "customer_email",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "id_verification_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 31
        },
        {
          "column_name": "delivery_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 25
        },
        {
          "column_name": "accepted_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "photo_proof_urls",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 29
        },
        {
          "column_name": "batch_sequence",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 35
        },
        {
          "column_name": "cancelled_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "rating",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 36
        },
        {
          "column_name": "delivery_latitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "arrived_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "customer_phone",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "signature_data",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 27
        },
        {
          "column_name": "departed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "id_verification_data",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 32
        },
        {
          "column_name": "distance_km",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "tip_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 26
        }
      ]
    },
    {
      "table_name": "delivery_batches",
      "columns": [
        {
          "column_name": "optimized_route",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "total_distance_km",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "estimated_duration_minutes",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "delivery_geofences",
      "columns": [
        {
          "column_name": "delivery_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "exited_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "center_latitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 8,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "dwell_time_seconds",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "center_longitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 11,
          "numeric_scale": 8,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "auto_complete_on_enter",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "notify_on_enter",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 10
        },
        {
          "column_name": "radius_meters",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": "100",
          "ordinal_position": 5
        },
        {
          "column_name": "entered_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "notify_on_exit",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "delivery_tracking",
      "columns": [
        {
          "column_name": "altitude_meters",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "activity_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "provider",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "is_mock_location",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 11
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 15
        },
        {
          "column_name": "recorded_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 12
        },
        {
          "column_name": "received_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 13
        }
      ]
    },
    {
      "table_name": "delivery_zones",
      "columns": [
        {
          "column_name": "free_delivery_minimum",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "base_delivery_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "delivery_time_minutes",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "60",
          "ordinal_position": 11
        },
        {
          "column_name": "radius_km",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "available_days",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "ARRAY[0, 1, 2, 3, 4, 5, 6]",
          "ordinal_position": 13
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 16
        },
        {
          "column_name": "polygon_coordinates",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "delivery_hours",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        }
      ]
    },
    {
      "table_name": "discount_codes",
      "columns": [
        {
          "column_name": "minimum_purchase",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 15
        },
        {
          "column_name": "promotion_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "customer_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "used_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "order_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "used",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 6
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        }
      ]
    },
    {
      "table_name": "discount_usage",
      "columns": [
        {
          "column_name": "used_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 7
        }
      ]
    },
    {
      "table_name": "dynamic_pricing_rules",
      "columns": [
        {
          "column_name": "priority",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 10
        },
        {
          "column_name": "trigger_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 11
        },
        {
          "column_name": "action_value",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "action_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 13
        },
        {
          "column_name": "category_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 200,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "product_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "holidays",
      "columns": [
        {
          "column_name": "holiday_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "fixed_day",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 14
        },
        {
          "column_name": "floating_rule",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "date_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "typical_business_impact",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "is_bank_holiday",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 11
        },
        {
          "column_name": "fixed_month",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "calculation_rule",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "inventory_locations",
      "columns": [
        {
          "column_name": "code",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 13
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "zone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "location_access_log",
      "columns": [
        {
          "column_name": "latitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "accuracy",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "store_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "longitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 11,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "location_assignments_log",
      "columns": [
        {
          "column_name": "inventory_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "location_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "message_templates",
      "columns": [
        {
          "column_name": "preview_text",
          "data_type": "character varying",
          "character_maximum_length": 160,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "is_global",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "is_approved",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 14
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "channel_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "content",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "last_used_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "usage_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 18
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "approved_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "category",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'general'::character varying",
          "ordinal_position": 5
        },
        {
          "column_name": "tags",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        }
      ]
    },
    {
      "table_name": "model_deployments",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'inactive'::character varying",
          "ordinal_position": 5
        },
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "stopped_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "traffic_percentage",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "100.0",
          "ordinal_position": 12
        },
        {
          "column_name": "deployment_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "started_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "endpoint",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "model_metrics",
      "columns": [
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "evaluation_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_DATE",
          "ordinal_position": 8
        },
        {
          "column_name": "model_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "training_samples",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "accuracy_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "f1_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "precision_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "recall_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "model_versions",
      "columns": [
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "config",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "ocs_inventory",
      "columns": [
        {
          "column_name": "quantity_reserved",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "image_url",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 35
        },
        {
          "column_name": "vendor",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 30
        },
        {
          "column_name": "subcategory",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 26
        },
        {
          "column_name": "case_gtin",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "is_available",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 17
        },
        {
          "column_name": "thc_content",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 31
        },
        {
          "column_name": "brand",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "each_gtin",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "batch_lot",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 28
        },
        {
          "column_name": "retail_price",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "min_stock_level",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "10",
          "ordinal_position": 15
        },
        {
          "column_name": "cbd_content",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 32
        },
        {
          "column_name": "last_restock_date",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "plant_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 34
        },
        {
          "column_name": "quantity_available",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "quantity_on_hand",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 3
        },
        {
          "column_name": "supplier",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 29
        },
        {
          "column_name": "container_id",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 36
        },
        {
          "column_name": "max_stock_level",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "100",
          "ordinal_position": 16
        },
        {
          "column_name": "override_price",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "gtin_barcode",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 22
        },
        {
          "column_name": "retail_price_dynamic",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "unit_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "column_name": "strain_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 33
        },
        {
          "column_name": "product_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 23
        },
        {
          "column_name": "shipment_id",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 37
        },
        {
          "column_name": "packaged_on_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 27
        },
        {
          "column_name": "category",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 25
        }
      ]
    },
    {
      "table_name": "ocs_inventory_logs",
      "columns": [
        {
          "column_name": "inventory_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "reason",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "performed_by",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "change_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "previous_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "order_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 11
        },
        {
          "column_name": "new_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "ocs_inventory_movements",
      "columns": [
        {
          "column_name": "inventory_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "reference_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "reason",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "performed_by",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "reference_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "ocs_inventory_reservations",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'active'::character varying",
          "ordinal_position": 7
        },
        {
          "column_name": "inventory_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 9
        },
        {
          "column_name": "order_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "cart_session_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "ocs_inventory_snapshots",
      "columns": [
        {
          "column_name": "inventory_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "last_movement_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "reserved_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "quantity_on_hand",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "available_quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "ocs_inventory_transactions",
      "columns": [
        {
          "column_name": "quantity",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "batch_lot",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "unit_cost",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "running_balance",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "created_by",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "ocs_product_catalog",
      "columns": [
        {
          "column_name": "minimum_cbd_content_percent",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 82
        },
        {
          "column_name": "slug",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 87
        },
        {
          "column_name": "temperature_display",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 78
        },
        {
          "column_name": "fulfilment_method",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 85
        },
        {
          "column_name": "ontario_grown",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 37
        },
        {
          "column_name": "rechargeable_battery",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 74
        },
        {
          "column_name": "ocs_item_number",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 22
        },
        {
          "column_name": "thc_content_per_unit",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 27
        },
        {
          "column_name": "cbd_content_per_volume",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 62
        },
        {
          "column_name": "minimum_thc_content_percent",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 80
        },
        {
          "column_name": "terpenes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "colour",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 25
        },
        {
          "column_name": "temperature_control",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 77
        },
        {
          "column_name": "maximum_cbd_content_percent",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 83
        },
        {
          "column_name": "number_of_items_in_retail_pack",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 65
        },
        {
          "column_name": "rating_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 44
        },
        {
          "column_name": "sub_sub_category",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "replacement_parts_available",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 76
        },
        {
          "column_name": "drying_method",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 34
        },
        {
          "column_name": "gtin",
          "data_type": "bigint",
          "character_maximum_length": null,
          "numeric_precision": 64,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "grow_method",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 32
        },
        {
          "column_name": "maximum_thc_content_percent",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 81
        },
        {
          "column_name": "heating_element_type",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 72
        },
        {
          "column_name": "sub_category",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "inventory_status",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 30
        },
        {
          "column_name": "physical_dimension_depth",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 58
        },
        {
          "column_name": "craft",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 38
        },
        {
          "column_name": "growing_method",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 64
        },
        {
          "column_name": "product_short_description",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 55
        },
        {
          "column_name": "physical_dimension_volume",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 59
        },
        {
          "column_name": "unit_price",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "ocs_variant_number",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 23
        },
        {
          "column_name": "extraction_process",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 36
        },
        {
          "column_name": "physical_dimension_height",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 57
        },
        {
          "column_name": "delivery_tier",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 86
        },
        {
          "column_name": "carrier_oil",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 71
        },
        {
          "column_name": "plant_type",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 40
        },
        {
          "column_name": "rating",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 3,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 43
        },
        {
          "column_name": "eaches_per_inner_pack",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 66
        },
        {
          "column_name": "eaches_per_master_case",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 67
        },
        {
          "column_name": "product_long_description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 54
        },
        {
          "column_name": "food_allergens",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 69
        },
        {
          "column_name": "grow_medium",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 70
        },
        {
          "column_name": "cbd_content_per_unit",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 28
        },
        {
          "column_name": "battery_type",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 73
        },
        {
          "column_name": "storage_criteria",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 68
        },
        {
          "column_name": "size",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "removable_battery",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 75
        },
        {
          "column_name": "supplier_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "compatibility",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 79
        },
        {
          "column_name": "physical_dimension_weight",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 60
        },
        {
          "column_name": "dried_flower_cannabis_equivalency",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 63
        },
        {
          "column_name": "street_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "trimming_method",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 35
        },
        {
          "column_name": "pack_size",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 26
        },
        {
          "column_name": "physical_dimension_width",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 56
        },
        {
          "column_name": "thc_content_per_volume",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 61
        },
        {
          "column_name": "strain_type",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "unit_of_measure",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "grow_region",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 33
        },
        {
          "column_name": "net_weight",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 84
        },
        {
          "column_name": "stock_status",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 29
        }
      ]
    },
    {
      "table_name": "order_status_history",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "changed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 5
        },
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "otp_codes",
      "columns": [
        {
          "column_name": "identifier",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "identifier_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "purpose",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "code",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "ip_address",
          "data_type": "character varying",
          "character_maximum_length": 45,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        }
      ]
    },
    {
      "table_name": "otp_rate_limits",
      "columns": [
        {
          "column_name": "blocked_until",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "identifier",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "identifier_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "last_request_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 6
        },
        {
          "column_name": "first_request_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 5
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "parameter_accuracy",
      "columns": [
        {
          "column_name": "is_correct",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "parameter_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "inferred_value",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "confidence_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "correct_value",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "payment_audit_log",
      "columns": [
        {
          "column_name": "entity_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "entity_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "details",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 7
        }
      ]
    },
    {
      "table_name": "payment_credentials",
      "columns": [
        {
          "column_name": "encryption_metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "encrypted_data",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "provider",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 12
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "revoked_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "updated_by",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        }
      ]
    },
    {
      "table_name": "payment_disputes",
      "columns": [
        {
          "column_name": "provider_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "reason_code",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "reason",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 16
        },
        {
          "column_name": "provider_response",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 14
        },
        {
          "column_name": "type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "evidence_due_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "evidence_submitted",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 13
        },
        {
          "column_name": "currency",
          "data_type": "character varying",
          "character_maximum_length": 3,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'CAD'::character varying",
          "ordinal_position": 8
        },
        {
          "column_name": "merchant_response",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "dispute_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "payment_fee_splits",
      "columns": [
        {
          "column_name": "platform_percentage_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 8
        },
        {
          "column_name": "provider_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 5
        },
        {
          "column_name": "platform_fee_collected_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "tenant_net_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "gross_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "platform_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 6
        },
        {
          "column_name": "platform_fixed_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 9
        },
        {
          "column_name": "tenant_settled",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "platform_fee_collected",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "tenant_settled_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        }
      ]
    },
    {
      "table_name": "payment_idempotency_keys",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'processing'::character varying",
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "response",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "payment_methods",
      "columns": [
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 13
        },
        {
          "column_name": "display_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "payment_token",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "last_used_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "card_last_four",
          "data_type": "character varying",
          "character_maximum_length": 4,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "payment_metrics",
      "columns": [
        {
          "column_name": "net_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 12,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 10
        },
        {
          "column_name": "metrics_by_type",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 13
        },
        {
          "column_name": "success_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "avg_transaction_time_ms",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "total_refunds",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "payment_provider_health_metrics",
      "columns": [
        {
          "column_name": "error_type",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "is_successful",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "endpoint",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "checked_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 10
        },
        {
          "column_name": "method",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "tenant_provider_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "status_code",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "payment_providers",
      "columns": [
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "fee_structure",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 10
        },
        {
          "column_name": "supported_card_types",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "ARRAY['visa'::text, 'mastercard'::text, 'amex'::text]",
          "ordinal_position": 8
        },
        {
          "column_name": "capabilities",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 9
        },
        {
          "column_name": "is_default",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 5
        },
        {
          "column_name": "webhook_url",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "settlement_schedule",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'daily'::character varying",
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "payment_refunds",
      "columns": [
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "initiated_by",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "refund_transaction_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "reason",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "completed_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        }
      ]
    },
    {
      "table_name": "payment_settlements",
      "columns": [
        {
          "column_name": "settlement_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "refund_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        },
        {
          "column_name": "reconciled_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "chargeback_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 14
        },
        {
          "column_name": "bank_account_last_four",
          "data_type": "character varying",
          "character_maximum_length": 4,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "gross_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 12,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "adjustment_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "settlement_report_url",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "refund_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "currency",
          "data_type": "character varying",
          "character_maximum_length": 3,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'CAD'::character varying",
          "ordinal_position": 11
        },
        {
          "column_name": "chargeback_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        },
        {
          "column_name": "deposit_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        }
      ]
    },
    {
      "table_name": "payment_subscriptions",
      "columns": [
        {
          "column_name": "next_billing_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "provider_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "interval",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "trial_end_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "cancelled_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "subscription_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "interval_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "1",
          "ordinal_position": 10
        },
        {
          "column_name": "billing_cycles_completed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 17
        },
        {
          "column_name": "failed_payment_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 18
        }
      ]
    },
    {
      "table_name": "payment_transactions",
      "columns": [
        {
          "column_name": "net_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "idempotency_key",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 33
        },
        {
          "column_name": "provider_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "fraud_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 23
        },
        {
          "column_name": "risk_factors",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 22
        },
        {
          "column_name": "type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "tenant_provider_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 32
        },
        {
          "column_name": "processed_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 29
        },
        {
          "column_name": "tenant_net_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 34
        },
        {
          "column_name": "authentication_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "transaction_reference",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 25
        },
        {
          "column_name": "ip_address",
          "data_type": "inet",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "risk_score",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "device_fingerprint",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 26
        },
        {
          "column_name": "failed_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 31
        },
        {
          "column_name": "tax_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "column_name": "platform_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 14
        },
        {
          "column_name": "authentication_data",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 20
        }
      ]
    },
    {
      "table_name": "payment_webhook_routes",
      "columns": [
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "provider",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 8
        },
        {
          "column_name": "webhook_url_path",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "tenant_provider_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "payment_webhooks",
      "columns": [
        {
          "column_name": "signature_verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 7
        },
        {
          "column_name": "processing_error",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "webhook_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "processed",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 8
        },
        {
          "column_name": "received_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 10
        }
      ]
    },
    {
      "table_name": "price_history",
      "columns": [
        {
          "column_name": "changed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 7
        },
        {
          "column_name": "product_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "price_tiers",
      "columns": [
        {
          "column_name": "priority",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        },
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 9
        },
        {
          "column_name": "customer_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 11
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "min_monthly_volume",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "min_order_value",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "description",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "pricing_rules",
      "columns": [
        {
          "column_name": "sub_category",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "sub_sub_category",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "product_ratings",
      "columns": [
        {
          "column_name": "verified_purchase_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "total_reviews",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 3
        },
        {
          "column_name": "rating_distribution",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{\"1\": 0, \"2\": 0, \"3\": 0, \"4\": 0, \"5\": 0}'::jsonb",
          "ordinal_position": 4
        },
        {
          "column_name": "recommended_percentage",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 6
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "product_recommendations",
      "columns": [
        {
          "column_name": "based_on",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 11
        },
        {
          "column_name": "conversion_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "recommended_product_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "revenue_impact",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 10
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 13
        },
        {
          "column_name": "product_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "click_through_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "profiles",
      "columns": [
        {
          "column_name": "total_spent",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 12,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 15
        },
        {
          "column_name": "phone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "customer_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'regular'::character varying",
          "ordinal_position": 13
        },
        {
          "column_name": "last_interaction",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 36
        },
        {
          "column_name": "first_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "last_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "preferred_effects",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 23
        },
        {
          "column_name": "medical_conditions",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 21
        },
        {
          "column_name": "order_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 16
        },
        {
          "column_name": "experience_level",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "purchase_history",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 25
        },
        {
          "column_name": "preferred_categories",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 22
        },
        {
          "column_name": "price_range",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "language",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'en'::character varying",
          "ordinal_position": 27
        },
        {
          "column_name": "address",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "preferred_payment_method",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "needs",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 19
        },
        {
          "column_name": "interaction_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 26
        },
        {
          "column_name": "payment_methods",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 37
        },
        {
          "column_name": "city",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "is_verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 33
        },
        {
          "column_name": "postal_code",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "tags",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 31
        },
        {
          "column_name": "marketing_consent",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 29
        },
        {
          "column_name": "timezone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 28
        },
        {
          "column_name": "last_order_date",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 32
        },
        {
          "column_name": "state",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "sms_consent",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 30
        },
        {
          "column_name": "date_of_birth",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "country",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'USA'::character varying",
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "promotion_usage",
      "columns": [
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "customer_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "promotions",
      "columns": [
        {
          "column_name": "recurrence_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'none'::character varying",
          "ordinal_position": 33
        },
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 22
        },
        {
          "column_name": "discount_value",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 30
        },
        {
          "column_name": "total_usage_limit",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "time_end",
          "data_type": "time without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 35
        },
        {
          "column_name": "discount_type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "max_discount_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "created_by_user_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 31
        },
        {
          "column_name": "brand_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "is_continuous",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 32
        },
        {
          "column_name": "customer_tier_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 25
        },
        {
          "column_name": "priority",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 19
        },
        {
          "column_name": "stackable",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 18
        },
        {
          "column_name": "applies_to",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'all'::character varying",
          "ordinal_position": 13
        },
        {
          "column_name": "hour_of_day",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 24
        },
        {
          "column_name": "usage_limit_per_customer",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "time_start",
          "data_type": "time without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 34
        },
        {
          "column_name": "timezone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'America/Toronto'::character varying",
          "ordinal_position": 36
        },
        {
          "column_name": "day_of_week",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 23
        },
        {
          "column_name": "min_purchase_amount",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "category_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "product_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "first_time_customer_only",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 26
        },
        {
          "column_name": "exclude_product_ids",
          "data_type": "ARRAY",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        }
      ]
    },
    {
      "table_name": "provinces_territories",
      "columns": [
        {
          "column_name": "pickup_allowed",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 11
        },
        {
          "column_name": "license_prefix",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "min_age",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "19",
          "ordinal_position": 7
        },
        {
          "column_name": "delivery_allowed",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 10
        },
        {
          "column_name": "type",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "settings",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 12
        },
        {
          "column_name": "regulatory_body",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "provincial_suppliers",
      "columns": [
        {
          "column_name": "address",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "phone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "contact_person",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "provinces_territories_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "is_provincial_supplier",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 12
        },
        {
          "column_name": "payment_terms",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "email",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "purchase_order_items",
      "columns": [
        {
          "column_name": "uom_conversion",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 21
        },
        {
          "column_name": "uom",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 20
        },
        {
          "column_name": "packaged_on_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "shipped_qty",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 19
        },
        {
          "column_name": "brand",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "gtin_barcode",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "exists_in_inventory",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 23
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 11
        },
        {
          "column_name": "uom_conversion_qty",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 22
        },
        {
          "column_name": "batch_lot",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "each_gtin",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "line_total",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 12,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "sku",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "vendor",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "case_gtin",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "item_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        }
      ]
    },
    {
      "table_name": "purchase_orders",
      "columns": [
        {
          "column_name": "expected_date",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        },
        {
          "column_name": "vendor",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "ocs_order_number",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "shipment_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "received_date",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "container_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        }
      ]
    },
    {
      "table_name": "push_subscriptions",
      "columns": [
        {
          "column_name": "is_sandbox",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 13
        },
        {
          "column_name": "notification_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 15
        },
        {
          "column_name": "app_version",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "device_token",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 18
        },
        {
          "column_name": "failed_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 16
        },
        {
          "column_name": "last_active_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "device_name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "customer_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "device_model",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "os_version",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "recommendation_metrics",
      "columns": [
        {
          "column_name": "customer_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "event_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "event_value",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "review_attributes",
      "columns": [
        {
          "column_name": "attribute_value",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "rating",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    },
    {
      "table_name": "review_media",
      "columns": [
        {
          "column_name": "caption",
          "data_type": "character varying",
          "character_maximum_length": 500,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "role_permissions",
      "columns": [
        {
          "column_name": "granted",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 5
        },
        {
          "column_name": "resource_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "shelf_locations",
      "columns": [
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 12
        },
        {
          "column_name": "location_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'standard'::character varying",
          "ordinal_position": 8
        },
        {
          "column_name": "notes",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "shelf",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "bin",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 6
        },
        {
          "column_name": "location_code",
          "data_type": "character varying",
          "character_maximum_length": 200,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "zone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "max_volume_m3",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "max_weight_kg",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "is_available",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 13
        },
        {
          "column_name": "aisle",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "temperature_range",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        }
      ]
    },
    {
      "table_name": "skip_words",
      "columns": [
        {
          "column_name": "active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "staff_delivery_status",
      "columns": [
        {
          "column_name": "available_from",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "current_longitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 11,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "current_status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'offline'::character varying",
          "ordinal_position": 6
        },
        {
          "column_name": "deliveries_today",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 12
        },
        {
          "column_name": "deliveries_completed",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 13
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 15
        },
        {
          "column_name": "current_deliveries",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 10
        },
        {
          "column_name": "current_latitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "max_deliveries",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "5",
          "ordinal_position": 11
        },
        {
          "column_name": "last_location_update",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "average_delivery_time_minutes",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "available_until",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "store_settings",
      "columns": [
        {
          "column_name": "category",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "supported_languages",
      "columns": [
        {
          "column_name": "coverage_percentage",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0.00",
          "ordinal_position": 6
        },
        {
          "column_name": "is_rtl",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 4
        },
        {
          "column_name": "name",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "code",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 1
        }
      ]
    },
    {
      "table_name": "tax_rates",
      "columns": [
        {
          "column_name": "effective_to",
          "data_type": "date",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "provincial_tax_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "tenant_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "federal_tax_rate",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 5,
          "numeric_scale": 4,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "cannabis_excise_duty",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 6
        },
        {
          "column_name": "environmental_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 8
        },
        {
          "column_name": "recycling_fee",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 9
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 14
        },
        {
          "column_name": "excise_calculation_method",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'percentage'::character varying",
          "ordinal_position": 7
        }
      ]
    },
    {
      "table_name": "token_blacklist",
      "columns": [
        {
          "column_name": "user_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 5
        },
        {
          "column_name": "token_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        }
      ]
    },
    {
      "table_name": "training_examples",
      "columns": [
        {
          "column_name": "added_by",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'admin'::character varying",
          "ordinal_position": 12
        },
        {
          "column_name": "feedback_score",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0.5",
          "ordinal_position": 9
        },
        {
          "column_name": "entities",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 5
        },
        {
          "column_name": "dataset_name",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "query",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "dataset_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "expected_intent",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 15
        },
        {
          "column_name": "expected_response_qualities",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 7
        },
        {
          "column_name": "context",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 8
        },
        {
          "column_name": "expected_response",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "expected_products",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'[]'::jsonb",
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "training_sessions",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'in_progress'::character varying",
          "ordinal_position": 8
        },
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "examples_trained",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 3
        },
        {
          "column_name": "accuracy_before",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "error_message",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "accuracy_after",
          "data_type": "double precision",
          "character_maximum_length": null,
          "numeric_precision": 53,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 5
        },
        {
          "column_name": "dataset_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "completed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "started_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 10
        },
        {
          "column_name": "improvements",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 6
        }
      ]
    },
    {
      "table_name": "translation_batch_items",
      "columns": [
        {
          "column_name": "status",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'pending'::character varying",
          "ordinal_position": 6
        },
        {
          "column_name": "error_message",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "processing_time_ms",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "completed_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "context",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "translation_batches",
      "columns": [
        {
          "column_name": "target_language",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "namespace",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "batch_key",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "started_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "completed_items",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 4
        },
        {
          "column_name": "total_items",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "translation_overrides",
      "columns": [
        {
          "column_name": "is_active",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 6
        },
        {
          "column_name": "reason",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "updated_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 8
        },
        {
          "column_name": "override_text",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "translation_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "created_by",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 5
        }
      ]
    },
    {
      "table_name": "translations",
      "columns": [
        {
          "column_name": "is_cached",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "true",
          "ordinal_position": 11
        },
        {
          "column_name": "target_language",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "model_version",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "source_text",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "namespace",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "last_used_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 9
        },
        {
          "column_name": "confidence_score",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 3,
          "numeric_scale": 2,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "translated_text",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "source_language",
          "data_type": "character varying",
          "character_maximum_length": 10,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'en'::character varying",
          "ordinal_position": 3
        },
        {
          "column_name": "is_verified",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "usage_count",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "1",
          "ordinal_position": 8
        }
      ]
    },
    {
      "table_name": "unsubscribe_list",
      "columns": [
        {
          "column_name": "resubscribe_allowed_after",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "phone_number",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 4
        },
        {
          "column_name": "additional_comments",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        },
        {
          "column_name": "channel_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 5
        },
        {
          "column_name": "unsubscribe_source",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "customer_id",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "is_permanent",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 10
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "now()",
          "ordinal_position": 12
        },
        {
          "column_name": "broadcast_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        }
      ]
    },
    {
      "table_name": "user_addresses",
      "columns": [
        {
          "column_name": "validation_data",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "phone_number",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "is_validated",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "false",
          "ordinal_position": 14
        },
        {
          "column_name": "address_type",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'delivery'::character varying",
          "ordinal_position": 3
        },
        {
          "column_name": "province_state",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "unit_number",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 7
        }
      ]
    },
    {
      "table_name": "user_login_logs",
      "columns": [
        {
          "column_name": "region",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 10
        },
        {
          "column_name": "session_id",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 18
        },
        {
          "column_name": "latitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 10,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 13
        },
        {
          "column_name": "timezone",
          "data_type": "character varying",
          "character_maximum_length": 50,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 15
        },
        {
          "column_name": "country",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 9
        },
        {
          "column_name": "city",
          "data_type": "character varying",
          "character_maximum_length": 100,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 11
        },
        {
          "column_name": "longitude",
          "data_type": "numeric",
          "character_maximum_length": null,
          "numeric_precision": 11,
          "numeric_scale": 8,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 14
        },
        {
          "column_name": "created_at",
          "data_type": "timestamp with time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 20
        },
        {
          "column_name": "postal_code",
          "data_type": "character varying",
          "character_maximum_length": 20,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 12
        },
        {
          "column_name": "isp",
          "data_type": "character varying",
          "character_maximum_length": 200,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 16
        },
        {
          "column_name": "device_fingerprint",
          "data_type": "character varying",
          "character_maximum_length": 255,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 17
        }
      ]
    },
    {
      "table_name": "user_sessions",
      "columns": [
        {
          "column_name": "last_activity",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 7
        }
      ]
    },
    {
      "table_name": "voice_auth_logs",
      "columns": [
        {
          "column_name": "user_agent",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": null,
          "ordinal_position": 8
        },
        {
          "column_name": "timestamp",
          "data_type": "timestamp without time zone",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "CURRENT_TIMESTAMP",
          "ordinal_position": 6
        },
        {
          "column_name": "age_info",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 5
        },
        {
          "column_name": "success",
          "data_type": "boolean",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "voice_profiles",
      "columns": [
        {
          "column_name": "metadata",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 5
        },
        {
          "column_name": "age_verification",
          "data_type": "jsonb",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "YES",
          "column_default": "'{}'::jsonb",
          "ordinal_position": 4
        },
        {
          "column_name": "voice_embedding",
          "data_type": "text",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        }
      ]
    },
    {
      "table_name": "wishlist",
      "columns": [
        {
          "column_name": "priority",
          "data_type": "integer",
          "character_maximum_length": null,
          "numeric_precision": 32,
          "numeric_scale": 0,
          "is_nullable": "YES",
          "column_default": "0",
          "ordinal_position": 7
        },
        {
          "column_name": "product_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 3
        },
        {
          "column_name": "customer_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 2
        },
        {
          "column_name": "store_id",
          "data_type": "uuid",
          "character_maximum_length": null,
          "numeric_precision": null,
          "numeric_scale": null,
          "is_nullable": "NO",
          "column_default": null,
          "ordinal_position": 4
        }
      ]
    }
  ],
  "missing_views": [
    {
      "view_name": "recent_login_activity",
      "definition": " SELECT ull.id,\n    ull.user_id,\n    u.email,\n    (((u.first_name)::text || ' '::text) || (u.last_name)::text) AS full_name,\n    ull.tenant_id,\n    t.name AS tenant_name,\n    ull.login_timestamp,\n    ull.login_successful,\n    ull.login_method,\n    ull.ip_address,\n    ull.country,\n    ull.city,\n    ull.user_agent\n   FROM ((user_login_logs ull\n     JOIN users u ON ((ull.user_id = u.id)))\n     LEFT JOIN tenants t ON ((ull.tenant_id = t.id)))\n  WHERE (ull.login_timestamp > (CURRENT_TIMESTAMP - '30 days'::interval))\n  ORDER BY ull.login_timestamp DESC;"
    }
  ],
  "missing_triggers": [
    {
      "table_name": "ai_personalities",
      "trigger": {
        "trigger_name": "update_ai_personalities_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "api_keys",
      "trigger": {
        "trigger_name": "update_api_keys_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "broadcast_messages",
      "trigger": {
        "trigger_name": "update_broadcast_messages_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "trigger": {
        "trigger_name": "update_broadcast_recipients_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "broadcasts",
      "trigger": {
        "trigger_name": "update_broadcasts_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "bundle_deals",
      "trigger": {
        "trigger_name": "update_bundle_deals_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "communication_preferences",
      "trigger": {
        "trigger_name": "update_communication_preferences_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "conversation_states",
      "trigger": {
        "trigger_name": "update_conversation_states_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "customer_pricing_rules",
      "trigger": {
        "trigger_name": "update_customer_pricing_rules_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "customer_reviews",
      "trigger": {
        "trigger_name": "trigger_update_product_rating",
        "event": "UPDATE",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_product_rating()"
      }
    },
    {
      "table_name": "customer_reviews",
      "trigger": {
        "trigger_name": "trigger_update_product_rating",
        "event": "INSERT",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_product_rating()"
      }
    },
    {
      "table_name": "customer_reviews",
      "trigger": {
        "trigger_name": "trigger_update_product_rating",
        "event": "DELETE",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_product_rating()"
      }
    },
    {
      "table_name": "customer_reviews",
      "trigger": {
        "trigger_name": "trigger_validate_verified_purchase",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION validate_verified_purchase()"
      }
    },
    {
      "table_name": "customer_reviews",
      "trigger": {
        "trigger_name": "trigger_validate_verified_purchase",
        "event": "INSERT",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION validate_verified_purchase()"
      }
    },
    {
      "table_name": "dynamic_pricing_rules",
      "trigger": {
        "trigger_name": "update_dynamic_pricing_rules_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "message_templates",
      "trigger": {
        "trigger_name": "update_message_templates_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "ocs_inventory",
      "trigger": {
        "trigger_name": "update_ocs_inventory_timestamp_trigger",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_inventory_timestamp()"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "trigger": {
        "trigger_name": "trigger_update_ocs_product_catalog_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_product_catalog_updated_at()"
      }
    },
    {
      "table_name": "payment_credentials",
      "trigger": {
        "trigger_name": "update_payment_credentials_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "payment_disputes",
      "trigger": {
        "trigger_name": "update_payment_disputes_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "payment_methods",
      "trigger": {
        "trigger_name": "update_payment_methods_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "payment_providers",
      "trigger": {
        "trigger_name": "update_payment_providers_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "trigger": {
        "trigger_name": "update_payment_subscriptions_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "trigger": {
        "trigger_name": "update_payment_webhook_routes_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "price_tiers",
      "trigger": {
        "trigger_name": "update_price_tiers_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "pricing_rules",
      "trigger": {
        "trigger_name": "update_pricing_rules_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_pricing_rules_updated_at()"
      }
    },
    {
      "table_name": "product_recommendations",
      "trigger": {
        "trigger_name": "update_product_recommendations_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "trigger": {
        "trigger_name": "update_provincial_suppliers_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "purchase_orders",
      "trigger": {
        "trigger_name": "update_purchase_orders_timestamp_trigger",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_inventory_timestamp()"
      }
    },
    {
      "table_name": "push_subscriptions",
      "trigger": {
        "trigger_name": "update_push_subscriptions_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "review_votes",
      "trigger": {
        "trigger_name": "trigger_update_review_vote_counts",
        "event": "INSERT",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_review_vote_counts()"
      }
    },
    {
      "table_name": "review_votes",
      "trigger": {
        "trigger_name": "trigger_update_review_vote_counts",
        "event": "DELETE",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_review_vote_counts()"
      }
    },
    {
      "table_name": "review_votes",
      "trigger": {
        "trigger_name": "trigger_update_review_vote_counts",
        "event": "UPDATE",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_review_vote_counts()"
      }
    },
    {
      "table_name": "shelf_locations",
      "trigger": {
        "trigger_name": "update_shelf_locations_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "staff_delivery_status",
      "trigger": {
        "trigger_name": "update_staff_delivery_status_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "system_settings",
      "trigger": {
        "trigger_name": "update_system_settings_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_system_settings_updated_at()"
      }
    },
    {
      "table_name": "translation_overrides",
      "trigger": {
        "trigger_name": "update_overrides_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "translations",
      "trigger": {
        "trigger_name": "update_translations_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_updated_at_column()"
      }
    },
    {
      "table_name": "user_login_logs",
      "trigger": {
        "trigger_name": "trigger_update_user_last_login",
        "event": "INSERT",
        "timing": "AFTER",
        "orientation": "ROW",
        "statement": "EXECUTE FUNCTION update_user_last_login()"
      }
    }
  ],
  "missing_functions": [
    {
      "function_name": "apply_discount_code",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.apply_discount_code(p_code character varying, p_user_id uuid, p_subtotal numeric, p_tenant_id uuid)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_discount RECORD;\n    v_usage_count INTEGER;\n    v_discount_amount DECIMAL;\nBEGIN\n    -- Find valid discount code\n    SELECT * INTO v_discount\n    FROM discount_codes\n    WHERE UPPER(code) = UPPER(p_code)\n        AND is_active = TRUE\n        AND (tenant_id = p_tenant_id OR tenant_id IS NULL)\n        AND CURRENT_TIMESTAMP BETWEEN valid_from AND COALESCE(valid_until, CURRENT_TIMESTAMP + INTERVAL '1 day')\n        AND p_subtotal >= minimum_purchase;\n    \n    IF NOT FOUND THEN\n        RETURN jsonb_build_object(\n            'success', FALSE,\n            'message', 'Invalid or expired discount code'\n        );\n    END IF;\n    \n    -- Check usage limits\n    IF v_discount.usage_limit IS NOT NULL AND v_discount.usage_count >= v_discount.usage_limit THEN\n        RETURN jsonb_build_object(\n            'success', FALSE,\n            'message', 'Discount code usage limit reached'\n        );\n    END IF;\n    \n    -- Check per-customer usage limit\n    IF p_user_id IS NOT NULL AND v_discount.usage_limit_per_customer IS NOT NULL THEN\n        SELECT COUNT(*) INTO v_usage_count\n        FROM discount_usage\n        WHERE discount_id = v_discount.id AND user_id = p_user_id;\n        \n        IF v_usage_count >= v_discount.usage_limit_per_customer THEN\n            RETURN jsonb_build_object(\n                'success', FALSE,\n                'message', 'You have already used this discount code'\n            );\n        END IF;\n    END IF;\n    \n    -- Calculate discount amount\n    IF v_discount.discount_type = 'percentage' THEN\n        v_discount_amount := p_subtotal * (v_discount.discount_value / 100);\n        IF v_discount.maximum_discount IS NOT NULL THEN\n            v_discount_amount := LEAST(v_discount_amount, v_discount.maximum_discount);\n        END IF;\n    ELSIF v_discount.discount_type = 'fixed' THEN\n        v_discount_amount := LEAST(v_discount.discount_value, p_subtotal);\n    ELSE\n        v_discount_amount := 0; -- Handle other types separately\n    END IF;\n    \n    RETURN jsonb_build_object(\n        'success', TRUE,\n        'discount_id', v_discount.id,\n        'discount_amount', ROUND(v_discount_amount, 2),\n        'discount_type', v_discount.discount_type,\n        'message', v_discount.description\n    );\nEND;\n$function$\n",
        "arguments": "p_code character varying, p_user_id uuid, p_subtotal numeric, p_tenant_id uuid",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "calculate_checkout_taxes",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.calculate_checkout_taxes(p_checkout_id uuid, p_subtotal numeric)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_tax_rate RECORD;\n    v_province_id UUID;\n    v_federal_tax DECIMAL;\n    v_provincial_tax DECIMAL;\n    v_excise_duty DECIMAL;\n    v_total_tax DECIMAL;\nBEGIN\n    -- Get province from checkout session\n    SELECT \n        COALESCE(\n            s.province_territory_id,\n            (checkout_sessions.delivery_address->>'province_id')::UUID\n        ) INTO v_province_id\n    FROM checkout_sessions\n    LEFT JOIN stores s ON checkout_sessions.pickup_store_id = s.id\n    WHERE checkout_sessions.id = p_checkout_id;\n    \n    -- Get applicable tax rates\n    SELECT * INTO v_tax_rate\n    FROM tax_rates\n    WHERE province_territory_id = v_province_id\n        AND is_active = TRUE\n        AND CURRENT_DATE BETWEEN effective_from AND COALESCE(effective_to, CURRENT_DATE + INTERVAL '1 day')\n    ORDER BY created_at DESC\n    LIMIT 1;\n    \n    IF NOT FOUND THEN\n        -- Default tax rates if not configured\n        v_federal_tax := p_subtotal * 0.05; -- 5% GST\n        v_provincial_tax := p_subtotal * 0.08; -- 8% PST (example)\n        v_excise_duty := p_subtotal * 0.10; -- 10% excise (example)\n    ELSE\n        v_federal_tax := p_subtotal * v_tax_rate.federal_tax_rate;\n        v_provincial_tax := p_subtotal * v_tax_rate.provincial_tax_rate;\n        \n        IF v_tax_rate.excise_calculation_method = 'percentage' THEN\n            v_excise_duty := p_subtotal * (v_tax_rate.cannabis_excise_duty / 100);\n        ELSE\n            -- Would need to calculate based on weight\n            v_excise_duty := v_tax_rate.cannabis_excise_duty;\n        END IF;\n    END IF;\n    \n    v_total_tax := v_federal_tax + v_provincial_tax + v_excise_duty;\n    \n    RETURN jsonb_build_object(\n        'federal_tax', ROUND(v_federal_tax, 2),\n        'provincial_tax', ROUND(v_provincial_tax, 2),\n        'excise_duty', ROUND(v_excise_duty, 2),\n        'total_tax', ROUND(v_total_tax, 2)\n    );\nEND;\n$function$\n",
        "arguments": "p_checkout_id uuid, p_subtotal numeric",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "calculate_distance",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.calculate_distance(lat1 numeric, lon1 numeric, lat2 numeric, lon2 numeric)\n RETURNS numeric\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    R CONSTANT DECIMAL := 6371; -- Earth radius in kilometers\n    dlat DECIMAL;\n    dlon DECIMAL;\n    a DECIMAL;\n    c DECIMAL;\nBEGIN\n    dlat := radians(lat2 - lat1);\n    dlon := radians(lon2 - lon1);\n    a := sin(dlat/2) * sin(dlat/2) +\n         cos(radians(lat1)) * cos(radians(lat2)) *\n         sin(dlon/2) * sin(dlon/2);\n    c := 2 * atan2(sqrt(a), sqrt(1-a));\n    RETURN R * c;\nEND;\n$function$\n",
        "arguments": "lat1 numeric, lon1 numeric, lat2 numeric, lon2 numeric",
        "return_type": "numeric"
      }
    },
    {
      "function_name": "calculate_final_price",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.calculate_final_price(p_product_id character varying, p_quantity integer, p_customer_id uuid, p_tenant_id uuid)\n RETURNS TABLE(base_price numeric, tier_discount numeric, promo_discount numeric, volume_discount numeric, final_price numeric)\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_base_price DECIMAL(10,2);\n    v_tier_discount DECIMAL(10,2) := 0;\n    v_promo_discount DECIMAL(10,2) := 0;\n    v_volume_discount DECIMAL(10,2) := 0;\nBEGIN\n    -- Get base price from product catalog\n    SELECT unit_price * p_quantity INTO v_base_price\n    FROM product_catalog\n    WHERE ocs_variant_number = p_product_id;\n    \n    -- Calculate tier discount\n    SELECT COALESCE(MAX(pt.discount_percentage), 0) INTO v_tier_discount\n    FROM customer_pricing_rules cpr\n    JOIN price_tiers pt ON cpr.price_tier_id = pt.id\n    WHERE cpr.tenant_id = p_tenant_id\n    AND cpr.active = true;\n    \n    -- Calculate applicable promotions (simplified)\n    SELECT COALESCE(MAX(discount_value), 0) INTO v_promo_discount\n    FROM promotions\n    WHERE active = true\n    AND CURRENT_TIMESTAMP BETWEEN start_date AND COALESCE(end_date, CURRENT_TIMESTAMP + INTERVAL '1 day')\n    AND (applies_to = 'all' OR p_product_id = ANY(product_ids));\n    \n    -- Calculate volume discount\n    IF p_quantity >= 100 THEN\n        v_volume_discount := 10;\n    ELSIF p_quantity >= 50 THEN\n        v_volume_discount := 7;\n    ELSIF p_quantity >= 20 THEN\n        v_volume_discount := 5;\n    ELSIF p_quantity >= 10 THEN\n        v_volume_discount := 3;\n    END IF;\n    \n    RETURN QUERY\n    SELECT \n        v_base_price,\n        v_base_price * v_tier_discount / 100,\n        v_base_price * v_promo_discount / 100,\n        v_base_price * v_volume_discount / 100,\n        v_base_price * (1 - (v_tier_discount + v_promo_discount + v_volume_discount) / 100);\nEND;\n$function$\n",
        "arguments": "p_product_id character varying, p_quantity integer, p_customer_id uuid, p_tenant_id uuid",
        "return_type": "TABLE(base_price numeric, tier_discount numeric, promo_discount numeric, volume_discount numeric, final_price numeric)"
      }
    },
    {
      "function_name": "calculate_holiday_date",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.calculate_holiday_date(p_year integer, p_holiday_id uuid)\n RETURNS date\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_holiday holidays%ROWTYPE;\n    v_date DATE;\nBEGIN\n    SELECT * INTO v_holiday FROM holidays WHERE id = p_holiday_id;\n    \n    IF v_holiday.date_type = 'fixed' THEN\n        v_date := make_date(p_year, v_holiday.fixed_month, v_holiday.fixed_day);\n    ELSIF v_holiday.date_type = 'floating' THEN\n        -- This would need more complex logic for floating dates\n        -- Simplified example\n        v_date := make_date(p_year, (v_holiday.floating_rule->>'month')::int, 1);\n    ELSIF v_holiday.date_type = 'calculated' THEN\n        -- Handle calculated dates like Easter\n        -- This would require complex calculation\n        v_date := make_date(p_year, 4, 1); -- Placeholder\n    END IF;\n    \n    RETURN v_date;\nEND;\n$function$\n",
        "arguments": "p_year integer, p_holiday_id uuid",
        "return_type": "date"
      }
    },
    {
      "function_name": "calculate_platform_fee",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.calculate_platform_fee(p_amount numeric, p_percentage_fee numeric, p_fixed_fee numeric)\n RETURNS TABLE(platform_fee numeric, tenant_net numeric)\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    platform_fee := ROUND((p_amount * p_percentage_fee) + p_fixed_fee, 2);\n    tenant_net := p_amount - platform_fee;\n    RETURN NEXT;\nEND;\n$function$\n",
        "arguments": "p_amount numeric, p_percentage_fee numeric, p_fixed_fee numeric",
        "return_type": "TABLE(platform_fee numeric, tenant_net numeric)"
      }
    },
    {
      "function_name": "check_geofence_entry",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.check_geofence_entry(point_lat numeric, point_lon numeric, fence_lat numeric, fence_lon numeric, fence_radius_meters integer)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    distance_km DECIMAL;\nBEGIN\n    distance_km := calculate_distance(point_lat, point_lon, fence_lat, fence_lon);\n    RETURN (distance_km * 1000) <= fence_radius_meters;\nEND;\n$function$\n",
        "arguments": "point_lat numeric, point_lon numeric, fence_lat numeric, fence_lon numeric, fence_radius_meters integer",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "check_idempotency_key",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.check_idempotency_key(p_key character varying, p_tenant_id uuid, p_request_hash character varying)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_result RECORD;\nBEGIN\n    -- Check for existing key\n    SELECT status, response, request_hash\n    INTO v_result\n    FROM payment_idempotency_keys\n    WHERE idempotency_key = p_key\n    AND tenant_id = p_tenant_id\n    AND expires_at > CURRENT_TIMESTAMP;\n    \n    IF v_result.status IS NOT NULL THEN\n        -- Key exists, check if same request\n        IF v_result.request_hash = p_request_hash THEN\n            -- Same request, return cached response\n            RETURN v_result.response;\n        ELSE\n            -- Different request with same key\n            RAISE EXCEPTION 'Idempotency key already used for different request';\n        END IF;\n    END IF;\n    \n    -- Key doesn't exist, insert it\n    INSERT INTO payment_idempotency_keys (\n        idempotency_key, tenant_id, request_hash, status\n    ) VALUES (\n        p_key, p_tenant_id, p_request_hash, 'processing'\n    );\n    \n    RETURN NULL;\nEND;\n$function$\n",
        "arguments": "p_key character varying, p_tenant_id uuid, p_request_hash character varying",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "check_inventory_exists",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.check_inventory_exists(p_sku character varying, p_batch_lot character varying)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_exists BOOLEAN;\nBEGIN\n    SELECT EXISTS(\n        SELECT 1 \n        FROM batch_tracking \n        WHERE sku = p_sku \n        AND batch_lot = p_batch_lot \n        AND quantity_remaining > 0\n    ) INTO v_exists;\n    \n    RETURN v_exists;\nEND;\n$function$\n",
        "arguments": "p_sku character varying, p_batch_lot character varying",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "check_otp_rate_limit",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.check_otp_rate_limit(p_identifier character varying, p_identifier_type character varying, p_max_requests integer DEFAULT 5, p_window_minutes integer DEFAULT 60)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_rate_limit RECORD;\n    v_window_start TIMESTAMP;\nBEGIN\n    v_window_start := CURRENT_TIMESTAMP - (p_window_minutes || ' minutes')::INTERVAL;\n    \n    -- Get or create rate limit record\n    SELECT * INTO v_rate_limit\n    FROM otp_rate_limits\n    WHERE identifier = p_identifier \n    AND identifier_type = p_identifier_type;\n    \n    -- If blocked, check if block has expired\n    IF v_rate_limit.blocked_until IS NOT NULL AND v_rate_limit.blocked_until > CURRENT_TIMESTAMP THEN\n        RETURN FALSE;\n    END IF;\n    \n    -- If no record exists, create one\n    IF v_rate_limit.id IS NULL THEN\n        INSERT INTO otp_rate_limits (identifier, identifier_type)\n        VALUES (p_identifier, p_identifier_type);\n        RETURN TRUE;\n    END IF;\n    \n    -- Reset counter if outside window\n    IF v_rate_limit.first_request_at < v_window_start THEN\n        UPDATE otp_rate_limits\n        SET request_count = 1,\n            first_request_at = CURRENT_TIMESTAMP,\n            last_request_at = CURRENT_TIMESTAMP,\n            blocked_until = NULL\n        WHERE id = v_rate_limit.id;\n        RETURN TRUE;\n    END IF;\n    \n    -- Check if limit exceeded\n    IF v_rate_limit.request_count >= p_max_requests THEN\n        -- Block for progressive duration\n        UPDATE otp_rate_limits\n        SET blocked_until = CURRENT_TIMESTAMP + (POWER(2, LEAST(v_rate_limit.request_count - p_max_requests + 1, 5)) || ' minutes')::INTERVAL\n        WHERE id = v_rate_limit.id;\n        RETURN FALSE;\n    END IF;\n    \n    -- Increment counter\n    UPDATE otp_rate_limits\n    SET request_count = request_count + 1,\n        last_request_at = CURRENT_TIMESTAMP\n    WHERE id = v_rate_limit.id;\n    \n    RETURN TRUE;\nEND;\n$function$\n",
        "arguments": "p_identifier character varying, p_identifier_type character varying, p_max_requests integer DEFAULT 5, p_window_minutes integer DEFAULT 60",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "cleanup_expired_idempotency_keys",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.cleanup_expired_idempotency_keys()\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_deleted INTEGER;\nBEGIN\n    DELETE FROM payment_idempotency_keys\n    WHERE expires_at < CURRENT_TIMESTAMP;\n    \n    GET DIAGNOSTICS v_deleted = ROW_COUNT;\n    RETURN v_deleted;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "integer"
      }
    },
    {
      "function_name": "cleanup_expired_otp_codes",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.cleanup_expired_otp_codes()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    DELETE FROM otp_codes \n    WHERE expires_at < CURRENT_TIMESTAMP \n    AND verified = FALSE;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "void"
      }
    },
    {
      "function_name": "cleanup_expired_tokens",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.cleanup_expired_tokens()\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_deleted_count INTEGER;\nBEGIN\n    DELETE FROM auth_tokens\n    WHERE expires_at < CURRENT_TIMESTAMP - INTERVAL '7 days'\n    OR (is_used = true AND used_at < CURRENT_TIMESTAMP - INTERVAL '30 days');\n\n    GET DIAGNOSTICS v_deleted_count = ROW_COUNT;\n    RETURN v_deleted_count;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "integer"
      }
    },
    {
      "function_name": "cleanup_old_audit_logs",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.cleanup_old_audit_logs()\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_deleted INTEGER;\nBEGIN\n    DELETE FROM payment_audit_log\n    WHERE created_at < CURRENT_TIMESTAMP - INTERVAL '90 days';\n    \n    GET DIAGNOSTICS v_deleted = ROW_COUNT;\n    RETURN v_deleted;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "integer"
      }
    },
    {
      "function_name": "create_auth_token",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.create_auth_token(p_user_id uuid, p_token_type character varying, p_token_hash character varying, p_expires_in_hours integer DEFAULT 24, p_metadata jsonb DEFAULT '{}'::jsonb)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_token_id UUID;\nBEGIN\n    INSERT INTO auth_tokens (user_id, token_type, token_hash, expires_at, metadata)\n    VALUES (\n        p_user_id,\n        p_token_type,\n        p_token_hash,\n        CURRENT_TIMESTAMP + (p_expires_in_hours || ' hours')::INTERVAL,\n        p_metadata\n    )\n    RETURNING id INTO v_token_id;\n\n    RETURN v_token_id;\nEND;\n$function$\n",
        "arguments": "p_user_id uuid, p_token_type character varying, p_token_hash character varying, p_expires_in_hours integer DEFAULT 24, p_metadata jsonb DEFAULT '{}'::jsonb",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "expire_checkout_sessions",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.expire_checkout_sessions()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    UPDATE checkout_sessions\n    SET status = 'expired'\n    WHERE status = 'draft'\n        AND expires_at < CURRENT_TIMESTAMP;\n    \n    -- Release inventory reservations for expired sessions\n    UPDATE inventory_reservations\n    SET released = TRUE\n    WHERE checkout_session_id IN (\n        SELECT id FROM checkout_sessions\n        WHERE status = 'expired'\n    ) AND released = FALSE;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "void"
      }
    },
    {
      "function_name": "generate_product_slug",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.generate_product_slug(p_brand text, p_product_name text, p_sub_category text, p_size text, p_colour text)\n RETURNS text\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    slug_parts TEXT[];\n    result_slug TEXT;\nBEGIN\n    -- Initialize array\n    slug_parts := ARRAY[]::TEXT[];\n    \n    -- Add brand if not null\n    IF p_brand IS NOT NULL AND p_brand != '' THEN\n        slug_parts := array_append(slug_parts, p_brand);\n    END IF;\n    \n    -- Add product name if not null\n    IF p_product_name IS NOT NULL AND p_product_name != '' THEN\n        slug_parts := array_append(slug_parts, p_product_name);\n    END IF;\n    \n    -- Add sub-category if not null\n    IF p_sub_category IS NOT NULL AND p_sub_category != '' THEN\n        slug_parts := array_append(slug_parts, p_sub_category);\n    END IF;\n    \n    -- Add size if not null\n    IF p_size IS NOT NULL AND p_size != '' THEN\n        slug_parts := array_append(slug_parts, p_size);\n    END IF;\n    \n    -- Add colour if not null (optional field)\n    IF p_colour IS NOT NULL AND p_colour != '' THEN\n        slug_parts := array_append(slug_parts, p_colour);\n    END IF;\n    \n    -- Join parts with hyphen\n    result_slug := array_to_string(slug_parts, '-');\n    \n    -- Clean up the slug\n    -- Convert to lowercase\n    result_slug := lower(result_slug);\n    -- Replace spaces and special characters with hyphens\n    result_slug := regexp_replace(result_slug, '[^a-z0-9-]+', '-', 'g');\n    -- Remove multiple consecutive hyphens\n    result_slug := regexp_replace(result_slug, '-+', '-', 'g');\n    -- Remove leading and trailing hyphens\n    result_slug := trim(BOTH '-' FROM result_slug);\n    \n    RETURN result_slug;\nEND;\n$function$\n",
        "arguments": "p_brand text, p_product_name text, p_sub_category text, p_size text, p_colour text",
        "return_type": "text"
      }
    },
    {
      "function_name": "get_staff_active_deliveries",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_staff_active_deliveries(staff_id uuid)\n RETURNS TABLE(delivery_id uuid, order_id uuid, customer_name character varying, delivery_address jsonb, status delivery_status, estimated_time timestamp without time zone)\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    RETURN QUERY\n    SELECT\n        d.id,\n        d.order_id,\n        d.customer_name,\n        d.delivery_address,\n        d.status,\n        d.estimated_delivery_time\n    FROM deliveries d\n    WHERE d.assigned_to = staff_id\n    AND d.status NOT IN ('completed', 'failed', 'cancelled')\n    ORDER BY d.scheduled_at, d.created_at;\nEND;\n$function$\n",
        "arguments": "staff_id uuid",
        "return_type": "TABLE(delivery_id uuid, order_id uuid, customer_name character varying, delivery_address jsonb, status delivery_status, estimated_time timestamp without time zone)"
      }
    },
    {
      "function_name": "get_store_ai_config",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_store_ai_config(p_store_id uuid, p_agent_name text DEFAULT NULL::text)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    IF p_agent_name IS NOT NULL THEN\n        RETURN (\n            SELECT value->p_agent_name\n            FROM store_settings\n            WHERE store_id = p_store_id\n            AND category = 'ai'\n            AND key = 'agents'\n        );\n    ELSE\n        RETURN (\n            SELECT value\n            FROM store_settings\n            WHERE store_id = p_store_id\n            AND category = 'ai'\n            AND key = 'agents'\n        );\n    END IF;\nEND;\n$function$\n",
        "arguments": "p_store_id uuid, p_agent_name text DEFAULT NULL::text",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "get_store_hours",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_store_hours(p_store_id uuid, p_day_of_week text DEFAULT NULL::text)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    IF p_day_of_week IS NOT NULL THEN\n        RETURN (\n            SELECT value->lower(p_day_of_week)\n            FROM store_settings\n            WHERE store_id = p_store_id\n            AND category = 'hours'\n            AND key = 'regular_hours'\n        );\n    ELSE\n        RETURN (\n            SELECT value\n            FROM store_settings\n            WHERE store_id = p_store_id\n            AND category = 'hours'\n            AND key = 'regular_hours'\n        );\n    END IF;\nEND;\n$function$\n",
        "arguments": "p_store_id uuid, p_day_of_week text DEFAULT NULL::text",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "get_tenant_primary_provider",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_tenant_primary_provider(p_tenant_id uuid, p_provider_type character varying DEFAULT NULL::character varying)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_provider_id UUID;\nBEGIN\n    SELECT tpp.id INTO v_provider_id\n    FROM tenant_payment_providers tpp\n    JOIN payment_providers pp ON tpp.provider_id = pp.id\n    WHERE tpp.tenant_id = p_tenant_id\n    AND tpp.is_active = true\n    AND tpp.is_primary = true\n    AND (p_provider_type IS NULL OR pp.provider_type = p_provider_type)\n    LIMIT 1;\n    \n    -- If no primary, get first active\n    IF v_provider_id IS NULL THEN\n        SELECT tpp.id INTO v_provider_id\n        FROM tenant_payment_providers tpp\n        JOIN payment_providers pp ON tpp.provider_id = pp.id\n        WHERE tpp.tenant_id = p_tenant_id\n        AND tpp.is_active = true\n        AND (p_provider_type IS NULL OR pp.provider_type = p_provider_type)\n        ORDER BY tpp.created_at\n        LIMIT 1;\n    END IF;\n    \n    RETURN v_provider_id;\nEND;\n$function$\n",
        "arguments": "p_tenant_id uuid, p_provider_type character varying DEFAULT NULL::character varying",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "get_user_context",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_user_context(user_id_param uuid)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    result jsonb;\nBEGIN\n    SELECT jsonb_build_object(\n        'user', jsonb_build_object(\n            'id', u.id,\n            'email', u.email,\n            'first_name', u.first_name,\n            'last_name', u.last_name,\n            'role', u.role,\n            'tenant_id', u.tenant_id,\n            'store_id', u.store_id,\n            'active', u.active\n        ),\n        'tenant', CASE \n            WHEN u.tenant_id IS NOT NULL THEN jsonb_build_object(\n                'id', t.id,\n                'name', t.name\n            )\n            ELSE NULL\n        END,\n        'store', CASE \n            WHEN u.store_id IS NOT NULL THEN jsonb_build_object(\n                'id', s.id,\n                'name', s.name,\n                'store_code', s.store_code\n            )\n            ELSE NULL\n        END,\n        'permissions', (\n            SELECT jsonb_agg(resource_type || ':' || action)\n            FROM role_permissions \n            WHERE role = u.role AND granted = true\n        )\n    ) INTO result\n    FROM users u\n    LEFT JOIN tenants t ON u.tenant_id = t.id\n    LEFT JOIN stores s ON u.store_id = s.id\n    WHERE u.id = user_id_param;\n    \n    RETURN result;\nEND;\n$function$\n",
        "arguments": "user_id_param uuid",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "get_user_login_stats",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_user_login_stats(p_user_id uuid)\n RETURNS TABLE(total_logins integer, successful_logins integer, failed_logins integer, unique_ips integer, unique_countries integer, last_login timestamp with time zone, most_common_ip inet, most_common_country character varying)\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    RETURN QUERY\n    SELECT \n        COUNT(*)::INTEGER as total_logins,\n        COUNT(*) FILTER (WHERE login_successful = true)::INTEGER as successful_logins,\n        COUNT(*) FILTER (WHERE login_successful = false)::INTEGER as failed_logins,\n        COUNT(DISTINCT ip_address)::INTEGER as unique_ips,\n        COUNT(DISTINCT country)::INTEGER as unique_countries,\n        MAX(login_timestamp) as last_login,\n        MODE() WITHIN GROUP (ORDER BY ip_address) as most_common_ip,\n        MODE() WITHIN GROUP (ORDER BY country) as most_common_country\n    FROM user_login_logs\n    WHERE user_id = p_user_id;\nEND;\n$function$\n",
        "arguments": "p_user_id uuid",
        "return_type": "TABLE(total_logins integer, successful_logins integer, failed_logins integer, unique_ips integer, unique_countries integer, last_login timestamp with time zone, most_common_ip inet, most_common_country character varying)"
      }
    },
    {
      "function_name": "get_wishlist_stats",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.get_wishlist_stats(p_customer_id uuid)\n RETURNS TABLE(total_items integer, high_priority_items integer, on_sale_items integer, out_of_stock_items integer, total_value numeric)\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    RETURN QUERY\n    SELECT\n        COUNT(*)::INTEGER as total_items,\n        COUNT(CASE WHEN w.priority = 1 THEN 1 END)::INTEGER as high_priority_items,\n        0::INTEGER as on_sale_items, -- Sales tracking would need separate table\n        COUNT(CASE WHEN p.quantity_available = 0 OR p.is_available = false THEN 1 END)::INTEGER as out_of_stock_items,\n        COALESCE(SUM(COALESCE(p.retail_price, p.unit_price)), 0)::DECIMAL as total_value\n    FROM wishlist w\n    LEFT JOIN comprehensive_product_inventory_view p\n        ON w.product_id = p.product_id\n        AND w.store_id = p.store_id\n    WHERE w.customer_id = p_customer_id;\nEND;\n$function$\n",
        "arguments": "p_customer_id uuid",
        "return_type": "TABLE(total_items integer, high_priority_items integer, on_sale_items integer, out_of_stock_items integer, total_value numeric)"
      }
    },
    {
      "function_name": "gin_extract_query_trgm",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gin_extract_query_trgm(text, internal, smallint, internal, internal, internal, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gin_extract_query_trgm$function$\n",
        "arguments": "text, internal, smallint, internal, internal, internal, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gin_extract_value_trgm",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gin_extract_value_trgm(text, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gin_extract_value_trgm$function$\n",
        "arguments": "text, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gin_trgm_consistent",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gin_trgm_consistent(internal, smallint, text, integer, internal, internal, internal, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gin_trgm_consistent$function$\n",
        "arguments": "internal, smallint, text, integer, internal, internal, internal, internal",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "gin_trgm_triconsistent",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gin_trgm_triconsistent(internal, smallint, text, integer, internal, internal, internal)\n RETURNS \"char\"\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gin_trgm_triconsistent$function$\n",
        "arguments": "internal, smallint, text, integer, internal, internal, internal",
        "return_type": "\"char\""
      }
    },
    {
      "function_name": "gtrgm_compress",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_compress(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_compress$function$\n",
        "arguments": "internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gtrgm_consistent",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_consistent(internal, text, smallint, oid, internal)\n RETURNS boolean\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_consistent$function$\n",
        "arguments": "internal, text, smallint, oid, internal",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "gtrgm_decompress",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_decompress(internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_decompress$function$\n",
        "arguments": "internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gtrgm_distance",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_distance(internal, text, smallint, oid, internal)\n RETURNS double precision\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_distance$function$\n",
        "arguments": "internal, text, smallint, oid, internal",
        "return_type": "double precision"
      }
    },
    {
      "function_name": "gtrgm_in",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_in(cstring)\n RETURNS gtrgm\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_in$function$\n",
        "arguments": "cstring",
        "return_type": "gtrgm"
      }
    },
    {
      "function_name": "gtrgm_options",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_options(internal)\n RETURNS void\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE\nAS '$libdir/pg_trgm', $function$gtrgm_options$function$\n",
        "arguments": "internal",
        "return_type": "void"
      }
    },
    {
      "function_name": "gtrgm_out",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_out(gtrgm)\n RETURNS cstring\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_out$function$\n",
        "arguments": "gtrgm",
        "return_type": "cstring"
      }
    },
    {
      "function_name": "gtrgm_penalty",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_penalty(internal, internal, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_penalty$function$\n",
        "arguments": "internal, internal, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gtrgm_picksplit",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_picksplit(internal, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_picksplit$function$\n",
        "arguments": "internal, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gtrgm_same",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_same(gtrgm, gtrgm, internal)\n RETURNS internal\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_same$function$\n",
        "arguments": "gtrgm, gtrgm, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "gtrgm_union",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.gtrgm_union(internal, internal)\n RETURNS gtrgm\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$gtrgm_union$function$\n",
        "arguments": "internal, internal",
        "return_type": "gtrgm"
      }
    },
    {
      "function_name": "is_promotion_active_now",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.is_promotion_active_now(p_id uuid, p_current_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    promo RECORD;\n    current_day INTEGER;\n    current_time_only TIME;\n    is_active BOOLEAN := false;\nBEGIN\n    -- Get promotion details\n    SELECT * INTO promo FROM promotions WHERE id = p_id;\n\n    IF NOT FOUND OR NOT promo.active THEN\n        RETURN false;\n    END IF;\n\n    -- Convert timestamp to timezone-aware time\n    current_day := EXTRACT(DOW FROM p_current_time AT TIME ZONE promo.timezone);\n    current_time_only := (p_current_time AT TIME ZONE promo.timezone)::TIME;\n\n    -- Check 1: Date range\n    IF promo.start_date > p_current_time THEN\n        RETURN false;\n    END IF;\n\n    IF NOT promo.is_continuous AND promo.end_date IS NOT NULL AND promo.end_date < p_current_time THEN\n        RETURN false;\n    END IF;\n\n    -- Check 2: Day of week (if specified)\n    IF promo.day_of_week IS NOT NULL AND array_length(promo.day_of_week, 1) > 0 THEN\n        IF NOT (current_day = ANY(promo.day_of_week)) THEN\n            RETURN false;\n        END IF;\n    END IF;\n\n    -- Check 3: Time window (if specified)\n    IF promo.time_start IS NOT NULL AND promo.time_end IS NOT NULL THEN\n        IF NOT (current_time_only >= promo.time_start AND current_time_only <= promo.time_end) THEN\n            RETURN false;\n        END IF;\n    END IF;\n\n    RETURN true;\nEND;\n$function$\n",
        "arguments": "p_id uuid, p_current_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "is_store_open",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.is_store_open(p_store_id uuid, p_datetime timestamp without time zone)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_date DATE;\n    v_time TIME;\n    v_day_of_week INTEGER;\n    v_is_holiday BOOLEAN;\n    v_special_hours store_special_hours%ROWTYPE;\n    v_regular_hours store_regular_hours%ROWTYPE;\nBEGIN\n    v_date := p_datetime::DATE;\n    v_time := p_datetime::TIME;\n    v_day_of_week := EXTRACT(DOW FROM v_date);\n    \n    -- Check special hours first\n    SELECT * INTO v_special_hours \n    FROM store_special_hours \n    WHERE store_id = p_store_id AND date = v_date;\n    \n    IF FOUND THEN\n        IF v_special_hours.is_closed THEN\n            RETURN FALSE;\n        END IF;\n        RETURN v_time >= v_special_hours.open_time AND v_time <= v_special_hours.close_time;\n    END IF;\n    \n    -- Check holidays\n    -- (Simplified - would need more complex logic)\n    \n    -- Check regular hours\n    SELECT * INTO v_regular_hours\n    FROM store_regular_hours\n    WHERE store_id = p_store_id AND day_of_week = v_day_of_week;\n    \n    IF v_regular_hours.is_closed THEN\n        RETURN FALSE;\n    END IF;\n    \n    -- Check against time slots\n    -- (Would need to check JSON array of time slots)\n    \n    RETURN TRUE; -- Simplified\nEND;\n$function$\n",
        "arguments": "p_store_id uuid, p_datetime timestamp without time zone",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "log_delivery_event",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.log_delivery_event(p_delivery_id uuid, p_event_type character varying, p_event_data jsonb DEFAULT '{}'::jsonb, p_user_id uuid DEFAULT NULL::uuid)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    event_id UUID;\nBEGIN\n    INSERT INTO delivery_events (delivery_id, event_type, event_data, performed_by)\n    VALUES (p_delivery_id, p_event_type, p_event_data, p_user_id)\n    RETURNING id INTO event_id;\n\n    RETURN event_id;\nEND;\n$function$\n",
        "arguments": "p_delivery_id uuid, p_event_type character varying, p_event_data jsonb DEFAULT '{}'::jsonb, p_user_id uuid DEFAULT NULL::uuid",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "process_asn_to_purchase_order",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.process_asn_to_purchase_order(p_session_id character varying, p_po_number character varying, p_supplier_id uuid, p_expected_date date, p_notes text DEFAULT NULL::text)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_po_id UUID;\n    v_shipment_id VARCHAR;\n    v_container_id VARCHAR;\n    v_vendor VARCHAR;\n    v_total_amount DECIMAL(12,2);\n    v_item RECORD;\nBEGIN\n    -- Get common values from staging\n    SELECT DISTINCT \n        shipment_id, \n        container_id, \n        vendor \n    INTO v_shipment_id, v_container_id, v_vendor\n    FROM asn_import_staging\n    WHERE session_id = p_session_id\n    LIMIT 1;\n    \n    -- Calculate total amount\n    SELECT SUM(unit_price * shipped_qty) INTO v_total_amount\n    FROM asn_import_staging\n    WHERE session_id = p_session_id;\n    \n    -- Create purchase order\n    INSERT INTO purchase_orders (\n        po_number,\n        supplier_id,\n        total_amount,\n        status,\n        expected_date,\n        notes,\n        shipment_id,\n        container_id,\n        vendor\n    ) VALUES (\n        p_po_number,\n        p_supplier_id,\n        COALESCE(v_total_amount, 0),\n        'pending',\n        p_expected_date,\n        p_notes,\n        v_shipment_id,\n        v_container_id,\n        v_vendor\n    ) RETURNING id INTO v_po_id;\n    \n    -- Create purchase order items\n    FOR v_item IN \n        SELECT * FROM asn_import_staging \n        WHERE session_id = p_session_id\n    LOOP\n        INSERT INTO purchase_order_items (\n            purchase_order_id,\n            sku,\n            item_name,\n            quantity,\n            unit_cost,\n            total,\n            batch_lot,\n            expiry_date,\n            case_gtin,\n            gtin_barcode,\n            each_gtin,\n            shipped_qty,\n            uom,\n            uom_conversion,\n            exists_in_inventory\n        ) VALUES (\n            v_po_id,\n            v_item.sku,\n            v_item.item_name,\n            v_item.shipped_qty,\n            v_item.unit_price,\n            v_item.unit_price * v_item.shipped_qty,\n            v_item.batch_lot,\n            v_item.expiry_date,\n            v_item.case_gtin,\n            v_item.gtin_barcode,\n            v_item.each_gtin,\n            v_item.shipped_qty,\n            v_item.uom,\n            v_item.uom_conversion,\n            v_item.exists_in_inventory\n        );\n    END LOOP;\n    \n    -- Clear staging data\n    DELETE FROM asn_import_staging WHERE session_id = p_session_id;\n    \n    RETURN v_po_id;\nEND;\n$function$\n",
        "arguments": "p_session_id character varying, p_po_number character varying, p_supplier_id uuid, p_expected_date date, p_notes text DEFAULT NULL::text",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "process_purchase_order_receipt",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.process_purchase_order_receipt(p_po_id uuid, p_items jsonb)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_item JSONB;\n    v_sku VARCHAR(100);\n    v_quantity INTEGER;\n    v_unit_cost DECIMAL(10,2);\n    v_batch_lot VARCHAR(100);\n    v_result JSONB = '[]'::JSONB;\nBEGIN\n    -- Process each item in the purchase order\n    FOR v_item IN SELECT * FROM jsonb_array_elements(p_items)\n    LOOP\n        v_sku := v_item->>'sku';\n        v_quantity := (v_item->>'quantity')::INTEGER;\n        v_unit_cost := (v_item->>'unit_cost')::DECIMAL;\n        v_batch_lot := v_item->>'batch_lot';\n        \n        -- Update or insert inventory record\n        INSERT INTO inventory (sku, quantity_on_hand, quantity_available, unit_cost, last_restock_date)\n        VALUES (v_sku, v_quantity, v_quantity, v_unit_cost, CURRENT_TIMESTAMP)\n        ON CONFLICT (sku) DO UPDATE\n        SET \n            quantity_on_hand = inventory.quantity_on_hand + v_quantity,\n            quantity_available = inventory.quantity_available + v_quantity,\n            unit_cost = ((inventory.quantity_on_hand * inventory.unit_cost) + (v_quantity * v_unit_cost)) \n                        / (inventory.quantity_on_hand + v_quantity),\n            last_restock_date = CURRENT_TIMESTAMP;\n        \n        -- Record inventory transaction\n        INSERT INTO inventory_transactions (\n            sku, transaction_type, reference_id, reference_type, \n            batch_lot, quantity, unit_cost, running_balance\n        )\n        SELECT \n            v_sku, 'purchase', p_po_id, 'purchase_order',\n            v_batch_lot, v_quantity, v_unit_cost, quantity_on_hand\n        FROM inventory\n        WHERE sku = v_sku;\n        \n        -- Track batch/lot\n        IF v_batch_lot IS NOT NULL THEN\n            INSERT INTO batch_tracking (\n                batch_lot, sku, purchase_order_id, \n                quantity_received, quantity_remaining, unit_cost\n            )\n            VALUES (\n                v_batch_lot, v_sku, p_po_id,\n                v_quantity, v_quantity, v_unit_cost\n            );\n        END IF;\n        \n        v_result := v_result || jsonb_build_object('sku', v_sku, 'processed', true);\n    END LOOP;\n    \n    -- Update purchase order status\n    UPDATE purchase_orders\n    SET status = 'received', received_date = CURRENT_TIMESTAMP\n    WHERE id = p_po_id;\n    \n    RETURN v_result;\nEND;\n$function$\n",
        "arguments": "p_po_id uuid, p_items jsonb",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "receive_purchase_order",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.receive_purchase_order(p_po_id uuid)\n RETURNS jsonb\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_item RECORD;\n    v_result JSONB = '{\"status\": \"success\", \"items_processed\": []}'::JSONB;\n    v_items_array JSONB = '[]'::JSONB;\nBEGIN\n    -- Update purchase order status\n    UPDATE purchase_orders\n    SET status = 'received',\n        received_date = CURRENT_TIMESTAMP\n    WHERE id = p_po_id;\n    \n    -- Process each item\n    FOR v_item IN \n        SELECT * FROM purchase_order_items \n        WHERE purchase_order_id = p_po_id\n    LOOP\n        -- Update inventory\n        INSERT INTO inventory (sku, quantity_on_hand, quantity_available, unit_cost, last_restock_date)\n        VALUES (v_item.sku, v_item.shipped_qty, v_item.shipped_qty, v_item.unit_cost, CURRENT_TIMESTAMP)\n        ON CONFLICT (sku) DO UPDATE\n        SET \n            quantity_on_hand = inventory.quantity_on_hand + v_item.shipped_qty,\n            quantity_available = inventory.quantity_available + v_item.shipped_qty,\n            unit_cost = v_item.unit_cost,\n            last_restock_date = CURRENT_TIMESTAMP;\n        \n        -- Update batch tracking WITH GTIN columns\n        INSERT INTO batch_tracking (\n            sku,\n            batch_lot,\n            purchase_order_id,\n            quantity_received,\n            quantity_remaining,\n            unit_cost,\n            expiry_date,\n            case_gtin,\n            gtin_barcode,\n            each_gtin\n        ) VALUES (\n            v_item.sku,\n            v_item.batch_lot,\n            p_po_id,\n            v_item.shipped_qty,\n            v_item.shipped_qty,\n            v_item.unit_cost,\n            v_item.expiry_date,\n            v_item.case_gtin,\n            v_item.gtin_barcode,\n            v_item.each_gtin\n        );\n        \n        -- Record inventory transaction\n        INSERT INTO inventory_transactions (\n            sku,\n            transaction_type,\n            quantity,\n            reference_type,\n            reference_id,\n            notes\n        ) VALUES (\n            v_item.sku,\n            'purchase',\n            v_item.shipped_qty,\n            'purchase_order',\n            p_po_id,\n            'Received from PO'\n        );\n        \n        -- Add item to result\n        v_items_array = v_items_array || jsonb_build_object(\n            'sku', v_item.sku,\n            'quantity', v_item.shipped_qty,\n            'status', 'received'\n        );\n    END LOOP;\n    \n    v_result = v_result || jsonb_build_object('items_processed', v_items_array);\n    \n    RETURN v_result;\nEND;\n$function$\n",
        "arguments": "p_po_id uuid",
        "return_type": "jsonb"
      }
    },
    {
      "function_name": "refresh_review_summary",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.refresh_review_summary()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    REFRESH MATERIALIZED VIEW CONCURRENTLY review_summary_view;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "void"
      }
    },
    {
      "function_name": "set_limit",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.set_limit(real)\n RETURNS real\n LANGUAGE c\n STRICT\nAS '$libdir/pg_trgm', $function$set_limit$function$\n",
        "arguments": "real",
        "return_type": "real"
      }
    },
    {
      "function_name": "show_limit",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.show_limit()\n RETURNS real\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$show_limit$function$\n",
        "arguments": "",
        "return_type": "real"
      }
    },
    {
      "function_name": "show_trgm",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.show_trgm(text)\n RETURNS text[]\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$show_trgm$function$\n",
        "arguments": "text",
        "return_type": "text[]"
      }
    },
    {
      "function_name": "similarity",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.similarity(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$similarity$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "similarity_dist",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.similarity_dist(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$similarity_dist$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "similarity_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.similarity_op(text, text)\n RETURNS boolean\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$similarity_op$function$\n",
        "arguments": "text, text",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "strict_word_similarity",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.strict_word_similarity(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$strict_word_similarity$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "strict_word_similarity_commutator_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.strict_word_similarity_commutator_op(text, text)\n RETURNS boolean\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$strict_word_similarity_commutator_op$function$\n",
        "arguments": "text, text",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "strict_word_similarity_dist_commutator_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.strict_word_similarity_dist_commutator_op(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$strict_word_similarity_dist_commutator_op$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "strict_word_similarity_dist_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.strict_word_similarity_dist_op(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$strict_word_similarity_dist_op$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "strict_word_similarity_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.strict_word_similarity_op(text, text)\n RETURNS boolean\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$strict_word_similarity_op$function$\n",
        "arguments": "text, text",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "unaccent",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.unaccent(regdictionary, text)\n RETURNS text\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/unaccent', $function$unaccent_dict$function$\n",
        "arguments": "regdictionary, text",
        "return_type": "text"
      }
    },
    {
      "function_name": "unaccent_init",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.unaccent_init(internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/unaccent', $function$unaccent_init$function$\n",
        "arguments": "internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "unaccent_lexize",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.unaccent_lexize(internal, internal, internal, internal)\n RETURNS internal\n LANGUAGE c\n PARALLEL SAFE\nAS '$libdir/unaccent', $function$unaccent_lexize$function$\n",
        "arguments": "internal, internal, internal, internal",
        "return_type": "internal"
      }
    },
    {
      "function_name": "update_checkout_session_timestamp",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_checkout_session_timestamp()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_inventory_movements_updated_at",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_inventory_movements_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_inventory_timestamp",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_inventory_timestamp()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_pricing_rules_updated_at",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_pricing_rules_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_product_catalog_updated_at",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_product_catalog_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_product_rating",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_product_rating()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_avg_rating DECIMAL(2,1);\n    v_total_reviews INTEGER;\n    v_rating_dist JSONB;\n    v_verified_count INTEGER;\n    v_recommended_pct DECIMAL(5,2);\nBEGIN\n    -- Calculate aggregated values for the product\n    WITH review_stats AS (\n        SELECT\n            AVG(rating)::DECIMAL(2,1) as avg_rating,\n            COUNT(*) as total_reviews,\n            COUNT(*) FILTER (WHERE is_verified_purchase = true) as verified_count,\n            (COUNT(*) FILTER (WHERE is_recommended = true) * 100.0 / NULLIF(COUNT(*), 0))::DECIMAL(5,2) as recommended_pct,\n            jsonb_build_object(\n                '5', COUNT(*) FILTER (WHERE rating = 5),\n                '4', COUNT(*) FILTER (WHERE rating = 4),\n                '3', COUNT(*) FILTER (WHERE rating = 3),\n                '2', COUNT(*) FILTER (WHERE rating = 2),\n                '1', COUNT(*) FILTER (WHERE rating = 1)\n            ) as rating_distribution\n        FROM customer_reviews\n        WHERE sku = COALESCE(NEW.sku, OLD.sku)\n            AND status = 'approved'\n    )\n    SELECT\n        COALESCE(avg_rating, 0),\n        COALESCE(total_reviews, 0),\n        rating_distribution,\n        COALESCE(verified_count, 0),\n        COALESCE(recommended_pct, 0)\n    INTO\n        v_avg_rating,\n        v_total_reviews,\n        v_rating_dist,\n        v_verified_count,\n        v_recommended_pct\n    FROM review_stats;\n\n    -- Update or insert product rating\n    INSERT INTO product_ratings (\n        sku,\n        average_rating,\n        total_reviews,\n        rating_distribution,\n        verified_purchase_count,\n        recommended_percentage,\n        last_updated\n    ) VALUES (\n        COALESCE(NEW.sku, OLD.sku),\n        v_avg_rating,\n        v_total_reviews,\n        v_rating_dist,\n        v_verified_count,\n        v_recommended_pct,\n        CURRENT_TIMESTAMP\n    )\n    ON CONFLICT (sku) DO UPDATE SET\n        average_rating = EXCLUDED.average_rating,\n        total_reviews = EXCLUDED.total_reviews,\n        rating_distribution = EXCLUDED.rating_distribution,\n        verified_purchase_count = EXCLUDED.verified_purchase_count,\n        recommended_percentage = EXCLUDED.recommended_percentage,\n        last_updated = EXCLUDED.last_updated;\n\n    RETURN COALESCE(NEW, OLD);\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_review_vote_counts",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_review_vote_counts()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    -- Update helpful and not_helpful counts\n    UPDATE customer_reviews\n    SET\n        helpful_count = (\n            SELECT COUNT(*)\n            FROM review_votes\n            WHERE review_id = COALESCE(NEW.review_id, OLD.review_id)\n                AND vote_type = 'helpful'\n        ),\n        not_helpful_count = (\n            SELECT COUNT(*)\n            FROM review_votes\n            WHERE review_id = COALESCE(NEW.review_id, OLD.review_id)\n                AND vote_type = 'not_helpful'\n        ),\n        updated_at = CURRENT_TIMESTAMP\n    WHERE id = COALESCE(NEW.review_id, OLD.review_id);\n\n    RETURN COALESCE(NEW, OLD);\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_system_settings_updated_at",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_system_settings_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_translation_usage",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_translation_usage()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    UPDATE translations \n    SET usage_count = usage_count + 1,\n        last_used_at = CURRENT_TIMESTAMP\n    WHERE id = NEW.id;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_user_last_login",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_user_last_login()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    IF NEW.login_successful = true THEN\n        UPDATE users \n        SET \n            last_login_ip = NEW.ip_address,\n            last_login_at = NEW.login_timestamp,\n            last_login_location = jsonb_build_object(\n                'country', NEW.country,\n                'region', NEW.region,\n                'city', NEW.city,\n                'postal_code', NEW.postal_code,\n                'latitude', NEW.latitude,\n                'longitude', NEW.longitude,\n                'timezone', NEW.timezone,\n                'isp', NEW.isp\n            ),\n            login_count = COALESCE(login_count, 0) + 1,\n            updated_at = CURRENT_TIMESTAMP\n        WHERE id = NEW.user_id;\n    END IF;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "update_user_payment_methods_updated_at",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.update_user_payment_methods_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "user_has_permission",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.user_has_permission(user_id_param uuid, resource_type_param character varying, action_param character varying)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    user_rec record;\n    has_perm boolean := false;\nBEGIN\n    -- Get user info\n    SELECT role, tenant_id, store_id, permissions_override\n    INTO user_rec\n    FROM users \n    WHERE id = user_id_param AND active = true;\n    \n    IF NOT FOUND THEN\n        RETURN false;\n    END IF;\n    \n    -- Check override permissions first\n    IF user_rec.permissions_override ? (resource_type_param || ':' || action_param) THEN\n        RETURN (user_rec.permissions_override->>(resource_type_param || ':' || action_param))::boolean;\n    END IF;\n    \n    -- Check role-based permissions\n    SELECT granted INTO has_perm\n    FROM role_permissions \n    WHERE role = user_rec.role \n      AND (resource_type = resource_type_param OR resource_type = '*')\n      AND (action = action_param OR action = '*')\n    ORDER BY \n        CASE WHEN resource_type = '*' THEN 1 ELSE 0 END,\n        CASE WHEN action = '*' THEN 1 ELSE 0 END\n    LIMIT 1;\n    \n    RETURN COALESCE(has_perm, false);\nEND;\n$function$\n",
        "arguments": "user_id_param uuid, resource_type_param character varying, action_param character varying",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "uuid_generate_v1",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_generate_v1()\n RETURNS uuid\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_generate_v1$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_generate_v1mc",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_generate_v1mc()\n RETURNS uuid\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_generate_v1mc$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_generate_v3",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_generate_v3(namespace uuid, name text)\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_generate_v3$function$\n",
        "arguments": "namespace uuid, name text",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_generate_v4",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_generate_v4()\n RETURNS uuid\n LANGUAGE c\n PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_generate_v4$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_generate_v5",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_generate_v5(namespace uuid, name text)\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_generate_v5$function$\n",
        "arguments": "namespace uuid, name text",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_nil",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_nil()\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_nil$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_ns_dns",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_ns_dns()\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_ns_dns$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_ns_oid",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_ns_oid()\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_ns_oid$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_ns_url",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_ns_url()\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_ns_url$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "uuid_ns_x500",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.uuid_ns_x500()\n RETURNS uuid\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/uuid-ossp', $function$uuid_ns_x500$function$\n",
        "arguments": "",
        "return_type": "uuid"
      }
    },
    {
      "function_name": "validate_auth_token",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.validate_auth_token(p_token_hash character varying, p_token_type character varying, p_mark_as_used boolean DEFAULT false)\n RETURNS TABLE(is_valid boolean, user_id uuid, metadata jsonb)\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    RETURN QUERY\n    WITH token_check AS (\n        SELECT\n            at.user_id,\n            at.metadata,\n            at.expires_at > CURRENT_TIMESTAMP AND at.is_used = false as valid\n        FROM auth_tokens at\n        WHERE at.token_hash = p_token_hash\n        AND at.token_type = p_token_type\n    )\n    SELECT\n        COALESCE(tc.valid, false) as is_valid,\n        tc.user_id,\n        tc.metadata\n    FROM token_check tc;\n\n    -- Mark token as used if requested and valid\n    IF p_mark_as_used THEN\n        UPDATE auth_tokens\n        SET is_used = true, used_at = CURRENT_TIMESTAMP\n        WHERE token_hash = p_token_hash\n        AND token_type = p_token_type\n        AND expires_at > CURRENT_TIMESTAMP\n        AND is_used = false;\n    END IF;\nEND;\n$function$\n",
        "arguments": "p_token_hash character varying, p_token_type character varying, p_mark_as_used boolean DEFAULT false",
        "return_type": "TABLE(is_valid boolean, user_id uuid, metadata jsonb)"
      }
    },
    {
      "function_name": "validate_verified_purchase",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.validate_verified_purchase()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    v_has_purchase BOOLEAN;\nBEGIN\n    -- Check if the user has purchased this product\n    IF NEW.order_id IS NOT NULL THEN\n        SELECT EXISTS (\n            SELECT 1\n            FROM order_items oi\n            JOIN orders o ON o.id = oi.order_id\n            WHERE o.id = NEW.order_id\n                AND o.user_id = NEW.user_id\n                AND oi.sku = NEW.sku\n                AND o.status IN ('completed', 'delivered')\n        ) INTO v_has_purchase;\n\n        NEW.is_verified_purchase := v_has_purchase;\n    ELSE\n        -- Check for any completed order with this product\n        SELECT EXISTS (\n            SELECT 1\n            FROM order_items oi\n            JOIN orders o ON o.id = oi.order_id\n            WHERE o.user_id = NEW.user_id\n                AND oi.sku = NEW.sku\n                AND o.status IN ('completed', 'delivered')\n        ) INTO v_has_purchase;\n\n        NEW.is_verified_purchase := v_has_purchase;\n    END IF;\n\n    RETURN NEW;\nEND;\n$function$\n",
        "arguments": "",
        "return_type": "trigger"
      }
    },
    {
      "function_name": "word_similarity",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.word_similarity(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$word_similarity$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "word_similarity_commutator_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.word_similarity_commutator_op(text, text)\n RETURNS boolean\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$word_similarity_commutator_op$function$\n",
        "arguments": "text, text",
        "return_type": "boolean"
      }
    },
    {
      "function_name": "word_similarity_dist_commutator_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.word_similarity_dist_commutator_op(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$word_similarity_dist_commutator_op$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "word_similarity_dist_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.word_similarity_dist_op(text, text)\n RETURNS real\n LANGUAGE c\n IMMUTABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$word_similarity_dist_op$function$\n",
        "arguments": "text, text",
        "return_type": "real"
      }
    },
    {
      "function_name": "word_similarity_op",
      "function": {
        "definition": "CREATE OR REPLACE FUNCTION public.word_similarity_op(text, text)\n RETURNS boolean\n LANGUAGE c\n STABLE PARALLEL SAFE STRICT\nAS '$libdir/pg_trgm', $function$word_similarity_op$function$\n",
        "arguments": "text, text",
        "return_type": "boolean"
      }
    }
  ],
  "missing_indexes": [
    {
      "table_name": "age_verification_logs",
      "index": {
        "index_name": "idx_age_verification_logs_timestamp",
        "definition": "CREATE INDEX idx_age_verification_logs_timestamp ON public.age_verification_logs USING btree (\"timestamp\")"
      }
    },
    {
      "table_name": "agi_audit_aggregates",
      "index": {
        "index_name": "agi_audit_aggregates_period_start_period_end_event_type_sev_key",
        "definition": "CREATE UNIQUE INDEX agi_audit_aggregates_period_start_period_end_event_type_sev_key ON public.agi_audit_aggregates USING btree (period_start, period_end, event_type, severity)"
      }
    },
    {
      "table_name": "agi_audit_aggregates",
      "index": {
        "index_name": "idx_audit_aggregates_period",
        "definition": "CREATE INDEX idx_audit_aggregates_period ON public.agi_audit_aggregates USING btree (period_start, period_end)"
      }
    },
    {
      "table_name": "agi_audit_alerts",
      "index": {
        "index_name": "idx_audit_alerts_triggered",
        "definition": "CREATE INDEX idx_audit_alerts_triggered ON public.agi_audit_alerts USING btree (triggered_at DESC)"
      }
    },
    {
      "table_name": "agi_audit_logs",
      "index": {
        "index_name": "idx_audit_logs_event_type",
        "definition": "CREATE INDEX idx_audit_logs_event_type ON public.agi_audit_logs USING btree (event_type)"
      }
    },
    {
      "table_name": "agi_audit_logs",
      "index": {
        "index_name": "idx_audit_logs_resource",
        "definition": "CREATE INDEX idx_audit_logs_resource ON public.agi_audit_logs USING btree (resource_type, resource_id)"
      }
    },
    {
      "table_name": "agi_audit_logs",
      "index": {
        "index_name": "idx_audit_logs_severity",
        "definition": "CREATE INDEX idx_audit_logs_severity ON public.agi_audit_logs USING btree (severity)"
      }
    },
    {
      "table_name": "agi_audit_logs",
      "index": {
        "index_name": "idx_audit_logs_timestamp",
        "definition": "CREATE INDEX idx_audit_logs_timestamp ON public.agi_audit_logs USING btree (\"timestamp\" DESC)"
      }
    },
    {
      "table_name": "agi_audit_logs",
      "index": {
        "index_name": "idx_audit_logs_user_id",
        "definition": "CREATE INDEX idx_audit_logs_user_id ON public.agi_audit_logs USING btree (user_id)"
      }
    },
    {
      "table_name": "agi_rate_limit_buckets",
      "index": {
        "index_name": "idx_rate_limit_buckets_last_update",
        "definition": "CREATE INDEX idx_rate_limit_buckets_last_update ON public.agi_rate_limit_buckets USING btree (last_update)"
      }
    },
    {
      "table_name": "agi_rate_limit_rules",
      "index": {
        "index_name": "idx_rate_limit_rules_scope",
        "definition": "CREATE INDEX idx_rate_limit_rules_scope ON public.agi_rate_limit_rules USING btree (scope)"
      }
    },
    {
      "table_name": "agi_rate_limit_violations",
      "index": {
        "index_name": "idx_rate_limit_violations_identifier",
        "definition": "CREATE INDEX idx_rate_limit_violations_identifier ON public.agi_rate_limit_violations USING btree (identifier)"
      }
    },
    {
      "table_name": "agi_rate_limit_violations",
      "index": {
        "index_name": "idx_rate_limit_violations_rule",
        "definition": "CREATE INDEX idx_rate_limit_violations_rule ON public.agi_rate_limit_violations USING btree (rule_name)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_context_gin",
        "definition": "CREATE INDEX idx_ai_conversations_context_gin ON public.ai_conversations USING gin (context)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_created_at",
        "definition": "CREATE INDEX idx_ai_conversations_created_at ON public.ai_conversations USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_customer_id",
        "definition": "CREATE INDEX idx_ai_conversations_customer_id ON public.ai_conversations USING btree (customer_id)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_messages_gin",
        "definition": "CREATE INDEX idx_ai_conversations_messages_gin ON public.ai_conversations USING gin (messages)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_session_customer",
        "definition": "CREATE INDEX idx_ai_conversations_session_customer ON public.ai_conversations USING btree (session_id, customer_id)"
      }
    },
    {
      "table_name": "ai_conversations",
      "index": {
        "index_name": "idx_ai_conversations_session_id",
        "definition": "CREATE INDEX idx_ai_conversations_session_id ON public.ai_conversations USING btree (session_id)"
      }
    },
    {
      "table_name": "ai_personalities",
      "index": {
        "index_name": "idx_ai_personalities_tenant",
        "definition": "CREATE INDEX idx_ai_personalities_tenant ON public.ai_personalities USING btree (tenant_id)"
      }
    },
    {
      "table_name": "ai_training_data",
      "index": {
        "index_name": "idx_training_action",
        "definition": "CREATE INDEX idx_training_action ON public.ai_training_data USING btree (customer_action)"
      }
    },
    {
      "table_name": "ai_training_data",
      "index": {
        "index_name": "idx_training_created",
        "definition": "CREATE INDEX idx_training_created ON public.ai_training_data USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "ai_training_data",
      "index": {
        "index_name": "idx_training_score",
        "definition": "CREATE INDEX idx_training_score ON public.ai_training_data USING btree (feedback_score)"
      }
    },
    {
      "table_name": "api_keys",
      "index": {
        "index_name": "idx_api_keys_key_hash",
        "definition": "CREATE INDEX idx_api_keys_key_hash ON public.api_keys USING btree (key_hash)"
      }
    },
    {
      "table_name": "api_keys",
      "index": {
        "index_name": "idx_api_keys_user_id",
        "definition": "CREATE INDEX idx_api_keys_user_id ON public.api_keys USING btree (user_id)"
      }
    },
    {
      "table_name": "audit_log",
      "index": {
        "index_name": "idx_audit_log_timestamp",
        "definition": "CREATE INDEX idx_audit_log_timestamp ON public.audit_log USING btree (\"timestamp\")"
      }
    },
    {
      "table_name": "audit_log",
      "index": {
        "index_name": "idx_audit_log_user_id",
        "definition": "CREATE INDEX idx_audit_log_user_id ON public.audit_log USING btree (user_id)"
      }
    },
    {
      "table_name": "auth_tokens",
      "index": {
        "index_name": "idx_auth_tokens_expires_at",
        "definition": "CREATE INDEX idx_auth_tokens_expires_at ON public.auth_tokens USING btree (expires_at)"
      }
    },
    {
      "table_name": "auth_tokens",
      "index": {
        "index_name": "idx_auth_tokens_token_hash",
        "definition": "CREATE INDEX idx_auth_tokens_token_hash ON public.auth_tokens USING btree (token_hash)"
      }
    },
    {
      "table_name": "auth_tokens",
      "index": {
        "index_name": "idx_auth_tokens_token_type",
        "definition": "CREATE INDEX idx_auth_tokens_token_type ON public.auth_tokens USING btree (token_type)"
      }
    },
    {
      "table_name": "auth_tokens",
      "index": {
        "index_name": "idx_auth_tokens_type_user",
        "definition": "CREATE INDEX idx_auth_tokens_type_user ON public.auth_tokens USING btree (token_type, user_id)"
      }
    },
    {
      "table_name": "auth_tokens",
      "index": {
        "index_name": "idx_auth_tokens_user_id",
        "definition": "CREATE INDEX idx_auth_tokens_user_id ON public.auth_tokens USING btree (user_id)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "batch_tracking_batch_lot_key",
        "definition": "CREATE UNIQUE INDEX batch_tracking_batch_lot_key ON public.batch_tracking USING btree (batch_lot)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_lot",
        "definition": "CREATE INDEX idx_batch_lot ON public.batch_tracking USING btree (batch_lot)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_sku",
        "definition": "CREATE INDEX idx_batch_sku ON public.batch_tracking USING btree (sku)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_tracking_case_gtin",
        "definition": "CREATE INDEX idx_batch_tracking_case_gtin ON public.batch_tracking USING btree (case_gtin)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_tracking_each_gtin",
        "definition": "CREATE INDEX idx_batch_tracking_each_gtin ON public.batch_tracking USING btree (each_gtin)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_tracking_gtin_barcode",
        "definition": "CREATE INDEX idx_batch_tracking_gtin_barcode ON public.batch_tracking USING btree (gtin_barcode)"
      }
    },
    {
      "table_name": "batch_tracking",
      "index": {
        "index_name": "idx_batch_tracking_location",
        "definition": "CREATE INDEX idx_batch_tracking_location ON public.batch_tracking USING btree (location_id)"
      }
    },
    {
      "table_name": "broadcast_audit_logs",
      "index": {
        "index_name": "idx_broadcast_audit_logs_action",
        "definition": "CREATE INDEX idx_broadcast_audit_logs_action ON public.broadcast_audit_logs USING btree (action)"
      }
    },
    {
      "table_name": "broadcast_audit_logs",
      "index": {
        "index_name": "idx_broadcast_audit_logs_broadcast_id",
        "definition": "CREATE INDEX idx_broadcast_audit_logs_broadcast_id ON public.broadcast_audit_logs USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "broadcast_audit_logs",
      "index": {
        "index_name": "idx_broadcast_audit_logs_created_at",
        "definition": "CREATE INDEX idx_broadcast_audit_logs_created_at ON public.broadcast_audit_logs USING btree (created_at)"
      }
    },
    {
      "table_name": "broadcast_audit_logs",
      "index": {
        "index_name": "idx_broadcast_audit_logs_performed_by",
        "definition": "CREATE INDEX idx_broadcast_audit_logs_performed_by ON public.broadcast_audit_logs USING btree (performed_by)"
      }
    },
    {
      "table_name": "broadcast_messages",
      "index": {
        "index_name": "broadcast_messages_broadcast_id_channel_type_key",
        "definition": "CREATE UNIQUE INDEX broadcast_messages_broadcast_id_channel_type_key ON public.broadcast_messages USING btree (broadcast_id, channel_type)"
      }
    },
    {
      "table_name": "broadcast_messages",
      "index": {
        "index_name": "idx_broadcast_messages_broadcast_id",
        "definition": "CREATE INDEX idx_broadcast_messages_broadcast_id ON public.broadcast_messages USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "broadcast_messages",
      "index": {
        "index_name": "idx_broadcast_messages_channel_type",
        "definition": "CREATE INDEX idx_broadcast_messages_channel_type ON public.broadcast_messages USING btree (channel_type)"
      }
    },
    {
      "table_name": "broadcast_messages",
      "index": {
        "index_name": "idx_broadcast_messages_template_id",
        "definition": "CREATE INDEX idx_broadcast_messages_template_id ON public.broadcast_messages USING btree (template_id)"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "index": {
        "index_name": "idx_broadcast_recipients_broadcast_id",
        "definition": "CREATE INDEX idx_broadcast_recipients_broadcast_id ON public.broadcast_recipients USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "index": {
        "index_name": "idx_broadcast_recipients_customer_id",
        "definition": "CREATE INDEX idx_broadcast_recipients_customer_id ON public.broadcast_recipients USING btree (customer_id)"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "index": {
        "index_name": "idx_broadcast_recipients_email_status",
        "definition": "CREATE INDEX idx_broadcast_recipients_email_status ON public.broadcast_recipients USING btree (email_status)"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "index": {
        "index_name": "idx_broadcast_recipients_push_status",
        "definition": "CREATE INDEX idx_broadcast_recipients_push_status ON public.broadcast_recipients USING btree (push_status)"
      }
    },
    {
      "table_name": "broadcast_recipients",
      "index": {
        "index_name": "idx_broadcast_recipients_sms_status",
        "definition": "CREATE INDEX idx_broadcast_recipients_sms_status ON public.broadcast_recipients USING btree (sms_status)"
      }
    },
    {
      "table_name": "broadcast_segments",
      "index": {
        "index_name": "idx_broadcast_segments_broadcast_id",
        "definition": "CREATE INDEX idx_broadcast_segments_broadcast_id ON public.broadcast_segments USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "broadcasts",
      "index": {
        "index_name": "idx_broadcasts_created_by",
        "definition": "CREATE INDEX idx_broadcasts_created_by ON public.broadcasts USING btree (created_by)"
      }
    },
    {
      "table_name": "broadcasts",
      "index": {
        "index_name": "idx_broadcasts_scheduled_at",
        "definition": "CREATE INDEX idx_broadcasts_scheduled_at ON public.broadcasts USING btree (scheduled_at) WHERE (scheduled_at IS NOT NULL)"
      }
    },
    {
      "table_name": "broadcasts",
      "index": {
        "index_name": "idx_broadcasts_store_id",
        "definition": "CREATE INDEX idx_broadcasts_store_id ON public.broadcasts USING btree (store_id)"
      }
    },
    {
      "table_name": "broadcasts",
      "index": {
        "index_name": "idx_broadcasts_tenant_id",
        "definition": "CREATE INDEX idx_broadcasts_tenant_id ON public.broadcasts USING btree (tenant_id)"
      }
    },
    {
      "table_name": "cart_sessions",
      "index": {
        "index_name": "idx_cart_sessions_status",
        "definition": "CREATE INDEX idx_cart_sessions_status ON public.cart_sessions USING btree (status)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_created_at",
        "definition": "CREATE INDEX idx_chat_interactions_created_at ON public.chat_interactions USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_customer_id",
        "definition": "CREATE INDEX idx_chat_interactions_customer_id ON public.chat_interactions USING btree (customer_id)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_intent",
        "definition": "CREATE INDEX idx_chat_interactions_intent ON public.chat_interactions USING btree (intent)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_metadata_gin",
        "definition": "CREATE INDEX idx_chat_interactions_metadata_gin ON public.chat_interactions USING gin (metadata)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_session_customer",
        "definition": "CREATE INDEX idx_chat_interactions_session_customer ON public.chat_interactions USING btree (session_id, customer_id)"
      }
    },
    {
      "table_name": "chat_interactions",
      "index": {
        "index_name": "idx_chat_interactions_session_id",
        "definition": "CREATE INDEX idx_chat_interactions_session_id ON public.chat_interactions USING btree (session_id)"
      }
    },
    {
      "table_name": "communication_analytics",
      "index": {
        "index_name": "communication_analytics_broadcast_id_key",
        "definition": "CREATE UNIQUE INDEX communication_analytics_broadcast_id_key ON public.communication_analytics USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "communication_analytics",
      "index": {
        "index_name": "idx_communication_analytics_broadcast_id",
        "definition": "CREATE INDEX idx_communication_analytics_broadcast_id ON public.communication_analytics USING btree (broadcast_id)"
      }
    },
    {
      "table_name": "communication_logs",
      "index": {
        "index_name": "idx_communication_logs_created_at",
        "definition": "CREATE INDEX idx_communication_logs_created_at ON public.communication_logs USING btree (created_at)"
      }
    },
    {
      "table_name": "communication_logs",
      "index": {
        "index_name": "idx_communication_logs_recipient",
        "definition": "CREATE INDEX idx_communication_logs_recipient ON public.communication_logs USING btree (recipient)"
      }
    },
    {
      "table_name": "communication_logs",
      "index": {
        "index_name": "idx_communication_logs_status",
        "definition": "CREATE INDEX idx_communication_logs_status ON public.communication_logs USING btree (status)"
      }
    },
    {
      "table_name": "communication_logs",
      "index": {
        "index_name": "idx_communication_logs_user_id",
        "definition": "CREATE INDEX idx_communication_logs_user_id ON public.communication_logs USING btree (user_id)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "communication_preferences_customer_id_key",
        "definition": "CREATE UNIQUE INDEX communication_preferences_customer_id_key ON public.communication_preferences USING btree (customer_id)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "communication_preferences_email_unsubscribe_token_key",
        "definition": "CREATE UNIQUE INDEX communication_preferences_email_unsubscribe_token_key ON public.communication_preferences USING btree (email_unsubscribe_token)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "communication_preferences_sms_unsubscribe_token_key",
        "definition": "CREATE UNIQUE INDEX communication_preferences_sms_unsubscribe_token_key ON public.communication_preferences USING btree (sms_unsubscribe_token)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "idx_communication_preferences_customer_id",
        "definition": "CREATE INDEX idx_communication_preferences_customer_id ON public.communication_preferences USING btree (customer_id)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "idx_communication_preferences_email_token",
        "definition": "CREATE INDEX idx_communication_preferences_email_token ON public.communication_preferences USING btree (email_unsubscribe_token)"
      }
    },
    {
      "table_name": "communication_preferences",
      "index": {
        "index_name": "idx_communication_preferences_sms_token",
        "definition": "CREATE INDEX idx_communication_preferences_sms_token ON public.communication_preferences USING btree (sms_unsubscribe_token)"
      }
    },
    {
      "table_name": "conversation_states",
      "index": {
        "index_name": "conversation_states_session_id_key",
        "definition": "CREATE UNIQUE INDEX conversation_states_session_id_key ON public.conversation_states USING btree (session_id)"
      }
    },
    {
      "table_name": "conversation_states",
      "index": {
        "index_name": "idx_conversation_states_current_stage",
        "definition": "CREATE INDEX idx_conversation_states_current_stage ON public.conversation_states USING btree (current_stage)"
      }
    },
    {
      "table_name": "conversation_states",
      "index": {
        "index_name": "idx_conversation_states_session_id",
        "definition": "CREATE INDEX idx_conversation_states_session_id ON public.conversation_states USING btree (session_id)"
      }
    },
    {
      "table_name": "conversation_states",
      "index": {
        "index_name": "idx_conversation_states_user_id",
        "definition": "CREATE INDEX idx_conversation_states_user_id ON public.conversation_states USING btree (user_id)"
      }
    },
    {
      "table_name": "conversion_metrics",
      "index": {
        "index_name": "idx_conversion_metrics_converted",
        "definition": "CREATE INDEX idx_conversion_metrics_converted ON public.conversion_metrics USING btree (converted)"
      }
    },
    {
      "table_name": "conversion_metrics",
      "index": {
        "index_name": "idx_conversion_metrics_created_at",
        "definition": "CREATE INDEX idx_conversion_metrics_created_at ON public.conversion_metrics USING btree (created_at)"
      }
    },
    {
      "table_name": "conversion_metrics",
      "index": {
        "index_name": "idx_conversion_metrics_session_id",
        "definition": "CREATE INDEX idx_conversion_metrics_session_id ON public.conversion_metrics USING btree (session_id)"
      }
    },
    {
      "table_name": "conversion_metrics",
      "index": {
        "index_name": "idx_conversion_metrics_user_id",
        "definition": "CREATE INDEX idx_conversion_metrics_user_id ON public.conversion_metrics USING btree (user_id)"
      }
    },
    {
      "table_name": "customer_reviews",
      "index": {
        "index_name": "idx_reviews_helpful",
        "definition": "CREATE INDEX idx_reviews_helpful ON public.customer_reviews USING btree (helpful_count DESC)"
      }
    },
    {
      "table_name": "customer_reviews",
      "index": {
        "index_name": "idx_reviews_order",
        "definition": "CREATE INDEX idx_reviews_order ON public.customer_reviews USING btree (order_id)"
      }
    },
    {
      "table_name": "customer_reviews",
      "index": {
        "index_name": "idx_reviews_status_created",
        "definition": "CREATE INDEX idx_reviews_status_created ON public.customer_reviews USING btree (status, created_at DESC)"
      }
    },
    {
      "table_name": "customer_reviews",
      "index": {
        "index_name": "idx_reviews_user",
        "definition": "CREATE INDEX idx_reviews_user ON public.customer_reviews USING btree (user_id)"
      }
    },
    {
      "table_name": "customer_reviews",
      "index": {
        "index_name": "idx_reviews_variant_rating",
        "definition": "CREATE INDEX idx_reviews_variant_rating ON public.customer_reviews USING btree (sku, rating)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_batch_id",
        "definition": "CREATE INDEX idx_deliveries_batch_id ON public.deliveries USING btree (batch_id)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_created_at",
        "definition": "CREATE INDEX idx_deliveries_created_at ON public.deliveries USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_customer_id",
        "definition": "CREATE INDEX idx_deliveries_customer_id ON public.deliveries USING btree (customer_id)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_order_id",
        "definition": "CREATE INDEX idx_deliveries_order_id ON public.deliveries USING btree (order_id)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_scheduled_at",
        "definition": "CREATE INDEX idx_deliveries_scheduled_at ON public.deliveries USING btree (scheduled_at)"
      }
    },
    {
      "table_name": "deliveries",
      "index": {
        "index_name": "idx_deliveries_store_id",
        "definition": "CREATE INDEX idx_deliveries_store_id ON public.deliveries USING btree (store_id)"
      }
    },
    {
      "table_name": "delivery_events",
      "index": {
        "index_name": "idx_delivery_events_created_at",
        "definition": "CREATE INDEX idx_delivery_events_created_at ON public.delivery_events USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "delivery_events",
      "index": {
        "index_name": "idx_delivery_events_delivery_id",
        "definition": "CREATE INDEX idx_delivery_events_delivery_id ON public.delivery_events USING btree (delivery_id)"
      }
    },
    {
      "table_name": "delivery_events",
      "index": {
        "index_name": "idx_delivery_events_event_type",
        "definition": "CREATE INDEX idx_delivery_events_event_type ON public.delivery_events USING btree (event_type)"
      }
    },
    {
      "table_name": "delivery_geofences",
      "index": {
        "index_name": "idx_delivery_geofences_delivery_id",
        "definition": "CREATE INDEX idx_delivery_geofences_delivery_id ON public.delivery_geofences USING btree (delivery_id)"
      }
    },
    {
      "table_name": "delivery_geofences",
      "index": {
        "index_name": "idx_delivery_geofences_location",
        "definition": "CREATE INDEX idx_delivery_geofences_location ON public.delivery_geofences USING btree (center_latitude, center_longitude)"
      }
    },
    {
      "table_name": "delivery_tracking",
      "index": {
        "index_name": "idx_delivery_tracking_delivery_id",
        "definition": "CREATE INDEX idx_delivery_tracking_delivery_id ON public.delivery_tracking USING btree (delivery_id)"
      }
    },
    {
      "table_name": "delivery_tracking",
      "index": {
        "index_name": "idx_delivery_tracking_recorded_at",
        "definition": "CREATE INDEX idx_delivery_tracking_recorded_at ON public.delivery_tracking USING btree (recorded_at DESC)"
      }
    },
    {
      "table_name": "delivery_zones",
      "index": {
        "index_name": "idx_delivery_zones_tenant",
        "definition": "CREATE INDEX idx_delivery_zones_tenant ON public.delivery_zones USING btree (tenant_id, is_active)"
      }
    },
    {
      "table_name": "discount_codes",
      "index": {
        "index_name": "idx_discount_codes_unused",
        "definition": "CREATE INDEX idx_discount_codes_unused ON public.discount_codes USING btree (used, valid_until) WHERE (used = false)"
      }
    },
    {
      "table_name": "discount_codes",
      "index": {
        "index_name": "idx_discount_codes_validity",
        "definition": "CREATE INDEX idx_discount_codes_validity ON public.discount_codes USING btree (valid_from, valid_until)"
      }
    },
    {
      "table_name": "discount_usage",
      "index": {
        "index_name": "idx_discount_usage_discount",
        "definition": "CREATE INDEX idx_discount_usage_discount ON public.discount_usage USING btree (discount_code_id)"
      }
    },
    {
      "table_name": "dynamic_pricing_rules",
      "index": {
        "index_name": "idx_dynamic_pricing_active",
        "definition": "CREATE INDEX idx_dynamic_pricing_active ON public.dynamic_pricing_rules USING btree (active)"
      }
    },
    {
      "table_name": "holidays",
      "index": {
        "index_name": "idx_holidays_lookup",
        "definition": "CREATE INDEX idx_holidays_lookup ON public.holidays USING btree (holiday_type, province_territory_id, is_statutory)"
      }
    },
    {
      "table_name": "holidays",
      "index": {
        "index_name": "idx_holidays_type",
        "definition": "CREATE INDEX idx_holidays_type ON public.holidays USING btree (holiday_type)"
      }
    },
    {
      "table_name": "inventory_locations",
      "index": {
        "index_name": "idx_inventory_locations_store_id",
        "definition": "CREATE INDEX idx_inventory_locations_store_id ON public.inventory_locations USING btree (store_id)"
      }
    },
    {
      "table_name": "inventory_locations",
      "index": {
        "index_name": "inventory_locations_code_key",
        "definition": "CREATE UNIQUE INDEX inventory_locations_code_key ON public.inventory_locations USING btree (code)"
      }
    },
    {
      "table_name": "location_access_log",
      "index": {
        "index_name": "idx_location_access_log_access_type",
        "definition": "CREATE INDEX idx_location_access_log_access_type ON public.location_access_log USING btree (access_type)"
      }
    },
    {
      "table_name": "location_access_log",
      "index": {
        "index_name": "idx_location_access_log_created_at",
        "definition": "CREATE INDEX idx_location_access_log_created_at ON public.location_access_log USING btree (created_at)"
      }
    },
    {
      "table_name": "location_access_log",
      "index": {
        "index_name": "idx_location_access_log_store_id",
        "definition": "CREATE INDEX idx_location_access_log_store_id ON public.location_access_log USING btree (store_id)"
      }
    },
    {
      "table_name": "location_access_log",
      "index": {
        "index_name": "idx_location_access_log_user_id",
        "definition": "CREATE INDEX idx_location_access_log_user_id ON public.location_access_log USING btree (user_id)"
      }
    },
    {
      "table_name": "location_assignments_log",
      "index": {
        "index_name": "idx_location_assignments_inventory_id",
        "definition": "CREATE INDEX idx_location_assignments_inventory_id ON public.location_assignments_log USING btree (inventory_id)"
      }
    },
    {
      "table_name": "message_templates",
      "index": {
        "index_name": "idx_message_templates_category",
        "definition": "CREATE INDEX idx_message_templates_category ON public.message_templates USING btree (category)"
      }
    },
    {
      "table_name": "message_templates",
      "index": {
        "index_name": "idx_message_templates_channel_type",
        "definition": "CREATE INDEX idx_message_templates_channel_type ON public.message_templates USING btree (channel_type)"
      }
    },
    {
      "table_name": "message_templates",
      "index": {
        "index_name": "idx_message_templates_is_active",
        "definition": "CREATE INDEX idx_message_templates_is_active ON public.message_templates USING btree (is_active)"
      }
    },
    {
      "table_name": "message_templates",
      "index": {
        "index_name": "idx_message_templates_store_id",
        "definition": "CREATE INDEX idx_message_templates_store_id ON public.message_templates USING btree (store_id)"
      }
    },
    {
      "table_name": "message_templates",
      "index": {
        "index_name": "idx_message_templates_tenant_id",
        "definition": "CREATE INDEX idx_message_templates_tenant_id ON public.message_templates USING btree (tenant_id)"
      }
    },
    {
      "table_name": "model_deployments",
      "index": {
        "index_name": "model_deployments_deployment_name_key",
        "definition": "CREATE UNIQUE INDEX model_deployments_deployment_name_key ON public.model_deployments USING btree (deployment_name)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_available",
        "definition": "CREATE INDEX idx_ocs_inventory_available ON public.ocs_inventory USING btree (is_available)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_batch_lot",
        "definition": "CREATE INDEX idx_ocs_inventory_batch_lot ON public.ocs_inventory USING btree (batch_lot)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_case_gtin",
        "definition": "CREATE INDEX idx_ocs_inventory_case_gtin ON public.ocs_inventory USING btree (case_gtin)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_each_gtin",
        "definition": "CREATE INDEX idx_ocs_inventory_each_gtin ON public.ocs_inventory USING btree (each_gtin)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_gtin_barcode",
        "definition": "CREATE INDEX idx_ocs_inventory_gtin_barcode ON public.ocs_inventory USING btree (gtin_barcode)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_quantity",
        "definition": "CREATE INDEX idx_ocs_inventory_quantity ON public.ocs_inventory USING btree (quantity_available)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_sku_lower",
        "definition": "CREATE INDEX idx_ocs_inventory_sku_lower ON public.ocs_inventory USING btree (lower(TRIM(BOTH FROM sku)))"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_store",
        "definition": "CREATE INDEX idx_ocs_inventory_store ON public.ocs_inventory USING btree (store_id)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "idx_ocs_inventory_supplier",
        "definition": "CREATE INDEX idx_ocs_inventory_supplier ON public.ocs_inventory USING btree (supplier)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "ocs_inventory_store_id_sku_key",
        "definition": "CREATE UNIQUE INDEX ocs_inventory_store_id_sku_key ON public.ocs_inventory USING btree (store_id, sku)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "index": {
        "index_name": "ocs_inventory_store_sku_unique",
        "definition": "CREATE UNIQUE INDEX ocs_inventory_store_sku_unique ON public.ocs_inventory USING btree (store_id, sku)"
      }
    },
    {
      "table_name": "ocs_inventory_logs",
      "index": {
        "index_name": "idx_inventory_logs_created_at",
        "definition": "CREATE INDEX idx_inventory_logs_created_at ON public.ocs_inventory_logs USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "ocs_inventory_logs",
      "index": {
        "index_name": "idx_inventory_logs_inventory_id",
        "definition": "CREATE INDEX idx_inventory_logs_inventory_id ON public.ocs_inventory_logs USING btree (inventory_id)"
      }
    },
    {
      "table_name": "ocs_inventory_movements",
      "index": {
        "index_name": "idx_inventory_movements_created_at",
        "definition": "CREATE INDEX idx_inventory_movements_created_at ON public.ocs_inventory_movements USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "ocs_inventory_movements",
      "index": {
        "index_name": "idx_inventory_movements_inventory_id",
        "definition": "CREATE INDEX idx_inventory_movements_inventory_id ON public.ocs_inventory_movements USING btree (inventory_id)"
      }
    },
    {
      "table_name": "ocs_inventory_reservations",
      "index": {
        "index_name": "idx_inventory_reservations_inventory_id",
        "definition": "CREATE INDEX idx_inventory_reservations_inventory_id ON public.ocs_inventory_reservations USING btree (inventory_id)"
      }
    },
    {
      "table_name": "ocs_inventory_reservations",
      "index": {
        "index_name": "idx_inventory_reservations_status",
        "definition": "CREATE INDEX idx_inventory_reservations_status ON public.ocs_inventory_reservations USING btree (status)"
      }
    },
    {
      "table_name": "ocs_inventory_snapshots",
      "index": {
        "index_name": "idx_inventory_snapshots_date",
        "definition": "CREATE INDEX idx_inventory_snapshots_date ON public.ocs_inventory_snapshots USING btree (snapshot_date DESC)"
      }
    },
    {
      "table_name": "ocs_inventory_snapshots",
      "index": {
        "index_name": "idx_inventory_snapshots_inventory_id",
        "definition": "CREATE INDEX idx_inventory_snapshots_inventory_id ON public.ocs_inventory_snapshots USING btree (inventory_id)"
      }
    },
    {
      "table_name": "ocs_inventory_transactions",
      "index": {
        "index_name": "idx_transactions_date",
        "definition": "CREATE INDEX idx_transactions_date ON public.ocs_inventory_transactions USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "ocs_inventory_transactions",
      "index": {
        "index_name": "idx_transactions_sku",
        "definition": "CREATE INDEX idx_transactions_sku ON public.ocs_inventory_transactions USING btree (sku)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_ocs_product_catalog_variant_lower",
        "definition": "CREATE INDEX idx_ocs_product_catalog_variant_lower ON public.ocs_product_catalog USING btree (lower(TRIM(BOTH FROM ocs_variant_number)))"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs",
        "definition": "CREATE INDEX idx_product_catalog_ocs ON public.ocs_product_catalog USING btree (ocs_variant_number)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_brand",
        "definition": "CREATE INDEX idx_product_catalog_ocs_brand ON public.ocs_product_catalog USING btree (brand)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_category",
        "definition": "CREATE INDEX idx_product_catalog_ocs_category ON public.ocs_product_catalog USING btree (category)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_rating",
        "definition": "CREATE INDEX idx_product_catalog_ocs_rating ON public.ocs_product_catalog USING btree (rating DESC) WHERE (rating IS NOT NULL)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_rating_count",
        "definition": "CREATE INDEX idx_product_catalog_ocs_rating_count ON public.ocs_product_catalog USING btree (rating_count DESC) WHERE (rating_count > 0)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_slug",
        "definition": "CREATE INDEX idx_product_catalog_ocs_slug ON public.ocs_product_catalog USING btree (slug)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_product_catalog_ocs_strain_type",
        "definition": "CREATE INDEX idx_product_catalog_ocs_strain_type ON public.ocs_product_catalog USING btree (strain_type)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_brand",
        "definition": "CREATE INDEX idx_products_brand ON public.ocs_product_catalog USING btree (brand)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_category",
        "definition": "CREATE INDEX idx_products_category ON public.ocs_product_catalog USING btree (category)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_name",
        "definition": "CREATE INDEX idx_products_name ON public.ocs_product_catalog USING btree (product_name)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_plant_type",
        "definition": "CREATE INDEX idx_products_plant_type ON public.ocs_product_catalog USING btree (plant_type)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_price",
        "definition": "CREATE INDEX idx_products_price ON public.ocs_product_catalog USING btree (unit_price)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "idx_products_subcategory",
        "definition": "CREATE INDEX idx_products_subcategory ON public.ocs_product_catalog USING btree (sub_category)"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "index": {
        "index_name": "uk_product_catalog_ocs_variant",
        "definition": "CREATE UNIQUE INDEX uk_product_catalog_ocs_variant ON public.ocs_product_catalog USING btree (ocs_variant_number)"
      }
    },
    {
      "table_name": "order_status_history",
      "index": {
        "index_name": "idx_order_status_history_order_id",
        "definition": "CREATE INDEX idx_order_status_history_order_id ON public.order_status_history USING btree (order_id)"
      }
    },
    {
      "table_name": "otp_codes",
      "index": {
        "index_name": "idx_otp_codes_code",
        "definition": "CREATE INDEX idx_otp_codes_code ON public.otp_codes USING btree (code)"
      }
    },
    {
      "table_name": "otp_codes",
      "index": {
        "index_name": "idx_otp_codes_expires_at",
        "definition": "CREATE INDEX idx_otp_codes_expires_at ON public.otp_codes USING btree (expires_at)"
      }
    },
    {
      "table_name": "otp_codes",
      "index": {
        "index_name": "idx_otp_codes_identifier",
        "definition": "CREATE INDEX idx_otp_codes_identifier ON public.otp_codes USING btree (identifier)"
      }
    },
    {
      "table_name": "otp_codes",
      "index": {
        "index_name": "idx_otp_codes_user_id",
        "definition": "CREATE INDEX idx_otp_codes_user_id ON public.otp_codes USING btree (user_id)"
      }
    },
    {
      "table_name": "otp_rate_limits",
      "index": {
        "index_name": "idx_otp_rate_limits_blocked_until",
        "definition": "CREATE INDEX idx_otp_rate_limits_blocked_until ON public.otp_rate_limits USING btree (blocked_until)"
      }
    },
    {
      "table_name": "otp_rate_limits",
      "index": {
        "index_name": "idx_otp_rate_limits_identifier",
        "definition": "CREATE UNIQUE INDEX idx_otp_rate_limits_identifier ON public.otp_rate_limits USING btree (identifier, identifier_type)"
      }
    },
    {
      "table_name": "parameter_accuracy",
      "index": {
        "index_name": "idx_param_correct",
        "definition": "CREATE INDEX idx_param_correct ON public.parameter_accuracy USING btree (is_correct)"
      }
    },
    {
      "table_name": "parameter_accuracy",
      "index": {
        "index_name": "idx_param_type",
        "definition": "CREATE INDEX idx_param_type ON public.parameter_accuracy USING btree (parameter_type)"
      }
    },
    {
      "table_name": "payment_audit_log",
      "index": {
        "index_name": "idx_payment_audit_action",
        "definition": "CREATE INDEX idx_payment_audit_action ON public.payment_audit_log USING btree (action, created_at DESC)"
      }
    },
    {
      "table_name": "payment_audit_log",
      "index": {
        "index_name": "idx_payment_audit_created",
        "definition": "CREATE INDEX idx_payment_audit_created ON public.payment_audit_log USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "payment_audit_log",
      "index": {
        "index_name": "idx_payment_audit_entity",
        "definition": "CREATE INDEX idx_payment_audit_entity ON public.payment_audit_log USING btree (entity_type, entity_id)"
      }
    },
    {
      "table_name": "payment_audit_log",
      "index": {
        "index_name": "idx_payment_audit_tenant",
        "definition": "CREATE INDEX idx_payment_audit_tenant ON public.payment_audit_log USING btree (tenant_id, created_at DESC)"
      }
    },
    {
      "table_name": "payment_credentials",
      "index": {
        "index_name": "idx_payment_credentials_active",
        "definition": "CREATE INDEX idx_payment_credentials_active ON public.payment_credentials USING btree (is_active, tenant_id)"
      }
    },
    {
      "table_name": "payment_credentials",
      "index": {
        "index_name": "idx_payment_credentials_expires",
        "definition": "CREATE INDEX idx_payment_credentials_expires ON public.payment_credentials USING btree (expires_at) WHERE (expires_at IS NOT NULL)"
      }
    },
    {
      "table_name": "payment_credentials",
      "index": {
        "index_name": "idx_payment_credentials_tenant",
        "definition": "CREATE INDEX idx_payment_credentials_tenant ON public.payment_credentials USING btree (tenant_id, provider, is_active)"
      }
    },
    {
      "table_name": "payment_credentials",
      "index": {
        "index_name": "idx_payment_credentials_type",
        "definition": "CREATE INDEX idx_payment_credentials_type ON public.payment_credentials USING btree (credential_type, is_active)"
      }
    },
    {
      "table_name": "payment_disputes",
      "index": {
        "index_name": "idx_disputes_status",
        "definition": "CREATE INDEX idx_disputes_status ON public.payment_disputes USING btree (status)"
      }
    },
    {
      "table_name": "payment_disputes",
      "index": {
        "index_name": "idx_disputes_transaction",
        "definition": "CREATE INDEX idx_disputes_transaction ON public.payment_disputes USING btree (transaction_id)"
      }
    },
    {
      "table_name": "payment_fee_splits",
      "index": {
        "index_name": "idx_fee_splits_settlement",
        "definition": "CREATE INDEX idx_fee_splits_settlement ON public.payment_fee_splits USING btree (tenant_settled, platform_fee_collected)"
      }
    },
    {
      "table_name": "payment_fee_splits",
      "index": {
        "index_name": "idx_fee_splits_tenant",
        "definition": "CREATE INDEX idx_fee_splits_tenant ON public.payment_fee_splits USING btree (tenant_id, created_at DESC)"
      }
    },
    {
      "table_name": "payment_fee_splits",
      "index": {
        "index_name": "payment_fee_splits_transaction_id_key",
        "definition": "CREATE UNIQUE INDEX payment_fee_splits_transaction_id_key ON public.payment_fee_splits USING btree (transaction_id)"
      }
    },
    {
      "table_name": "payment_idempotency_keys",
      "index": {
        "index_name": "idx_idempotency_expires",
        "definition": "CREATE INDEX idx_idempotency_expires ON public.payment_idempotency_keys USING btree (expires_at)"
      }
    },
    {
      "table_name": "payment_idempotency_keys",
      "index": {
        "index_name": "idx_idempotency_status",
        "definition": "CREATE INDEX idx_idempotency_status ON public.payment_idempotency_keys USING btree (status, created_at DESC)"
      }
    },
    {
      "table_name": "payment_idempotency_keys",
      "index": {
        "index_name": "idx_idempotency_tenant",
        "definition": "CREATE INDEX idx_idempotency_tenant ON public.payment_idempotency_keys USING btree (tenant_id, created_at DESC)"
      }
    },
    {
      "table_name": "payment_methods",
      "index": {
        "index_name": "payment_methods_tenant_id_payment_token_provider_id_key",
        "definition": "CREATE UNIQUE INDEX payment_methods_tenant_id_payment_token_provider_id_key ON public.payment_methods USING btree (tenant_id, payment_token, provider_id)"
      }
    },
    {
      "table_name": "payment_metrics",
      "index": {
        "index_name": "idx_metrics_date",
        "definition": "CREATE INDEX idx_metrics_date ON public.payment_metrics USING btree (date DESC)"
      }
    },
    {
      "table_name": "payment_metrics",
      "index": {
        "index_name": "payment_metrics_date_provider_id_key",
        "definition": "CREATE UNIQUE INDEX payment_metrics_date_provider_id_key ON public.payment_metrics USING btree (date, provider_id)"
      }
    },
    {
      "table_name": "payment_provider_health_metrics",
      "index": {
        "index_name": "idx_health_metrics_provider",
        "definition": "CREATE INDEX idx_health_metrics_provider ON public.payment_provider_health_metrics USING btree (tenant_provider_id, checked_at DESC)"
      }
    },
    {
      "table_name": "payment_provider_health_metrics",
      "index": {
        "index_name": "idx_health_metrics_success",
        "definition": "CREATE INDEX idx_health_metrics_success ON public.payment_provider_health_metrics USING btree (is_successful, checked_at DESC)"
      }
    },
    {
      "table_name": "payment_providers",
      "index": {
        "index_name": "payment_providers_name_key",
        "definition": "CREATE UNIQUE INDEX payment_providers_name_key ON public.payment_providers USING btree (name)"
      }
    },
    {
      "table_name": "payment_settlements",
      "index": {
        "index_name": "idx_settlements_date",
        "definition": "CREATE INDEX idx_settlements_date ON public.payment_settlements USING btree (settlement_date DESC)"
      }
    },
    {
      "table_name": "payment_settlements",
      "index": {
        "index_name": "idx_settlements_provider",
        "definition": "CREATE INDEX idx_settlements_provider ON public.payment_settlements USING btree (provider_id, settlement_date DESC)"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "index": {
        "index_name": "idx_subscriptions_next_billing",
        "definition": "CREATE INDEX idx_subscriptions_next_billing ON public.payment_subscriptions USING btree (next_billing_date)"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "index": {
        "index_name": "idx_subscriptions_status",
        "definition": "CREATE INDEX idx_subscriptions_status ON public.payment_subscriptions USING btree (status)"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "index": {
        "index_name": "idx_subscriptions_tenant",
        "definition": "CREATE INDEX idx_subscriptions_tenant ON public.payment_subscriptions USING btree (tenant_id)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_payment_transactions_idempotency",
        "definition": "CREATE INDEX idx_payment_transactions_idempotency ON public.payment_transactions USING btree (idempotency_key) WHERE (idempotency_key IS NOT NULL)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_payment_transactions_tenant_provider",
        "definition": "CREATE INDEX idx_payment_transactions_tenant_provider ON public.payment_transactions USING btree (tenant_provider_id, created_at DESC)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_transactions_created",
        "definition": "CREATE INDEX idx_transactions_created ON public.payment_transactions USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_transactions_order",
        "definition": "CREATE INDEX idx_transactions_order ON public.payment_transactions USING btree (order_id)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_transactions_provider_ref",
        "definition": "CREATE INDEX idx_transactions_provider_ref ON public.payment_transactions USING btree (provider_transaction_id, provider_id)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_transactions_status",
        "definition": "CREATE INDEX idx_transactions_status ON public.payment_transactions USING btree (status)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "idx_transactions_tenant",
        "definition": "CREATE INDEX idx_transactions_tenant ON public.payment_transactions USING btree (tenant_id)"
      }
    },
    {
      "table_name": "payment_transactions",
      "index": {
        "index_name": "payment_transactions_transaction_reference_key",
        "definition": "CREATE UNIQUE INDEX payment_transactions_transaction_reference_key ON public.payment_transactions USING btree (transaction_reference)"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "index": {
        "index_name": "idx_webhook_routes_path",
        "definition": "CREATE INDEX idx_webhook_routes_path ON public.payment_webhook_routes USING btree (webhook_url_path) WHERE (is_active = true)"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "index": {
        "index_name": "idx_webhook_routes_tenant",
        "definition": "CREATE INDEX idx_webhook_routes_tenant ON public.payment_webhook_routes USING btree (tenant_id, provider)"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "index": {
        "index_name": "payment_webhook_routes_webhook_url_path_key",
        "definition": "CREATE UNIQUE INDEX payment_webhook_routes_webhook_url_path_key ON public.payment_webhook_routes USING btree (webhook_url_path)"
      }
    },
    {
      "table_name": "payment_webhooks",
      "index": {
        "index_name": "idx_webhooks_processed",
        "definition": "CREATE INDEX idx_webhooks_processed ON public.payment_webhooks USING btree (processed, received_at)"
      }
    },
    {
      "table_name": "payment_webhooks",
      "index": {
        "index_name": "idx_webhooks_provider",
        "definition": "CREATE INDEX idx_webhooks_provider ON public.payment_webhooks USING btree (provider_id, received_at DESC)"
      }
    },
    {
      "table_name": "price_history",
      "index": {
        "index_name": "idx_price_history_product",
        "definition": "CREATE INDEX idx_price_history_product ON public.price_history USING btree (product_id, changed_at)"
      }
    },
    {
      "table_name": "price_tiers",
      "index": {
        "index_name": "price_tiers_name_key",
        "definition": "CREATE UNIQUE INDEX price_tiers_name_key ON public.price_tiers USING btree (name)"
      }
    },
    {
      "table_name": "pricing_rules",
      "index": {
        "index_name": "idx_pricing_rules_category",
        "definition": "CREATE INDEX idx_pricing_rules_category ON public.pricing_rules USING btree (store_id, category)"
      }
    },
    {
      "table_name": "pricing_rules",
      "index": {
        "index_name": "idx_pricing_rules_subcategory",
        "definition": "CREATE INDEX idx_pricing_rules_subcategory ON public.pricing_rules USING btree (store_id, category, sub_category)"
      }
    },
    {
      "table_name": "pricing_rules",
      "index": {
        "index_name": "idx_pricing_rules_subsubcategory",
        "definition": "CREATE INDEX idx_pricing_rules_subsubcategory ON public.pricing_rules USING btree (store_id, category, sub_category, sub_sub_category)"
      }
    },
    {
      "table_name": "pricing_rules",
      "index": {
        "index_name": "unique_store_category_rule",
        "definition": "CREATE UNIQUE INDEX unique_store_category_rule ON public.pricing_rules USING btree (store_id, category, sub_category, sub_sub_category)"
      }
    },
    {
      "table_name": "product_ratings",
      "index": {
        "index_name": "idx_product_ratings_avg_rating",
        "definition": "CREATE INDEX idx_product_ratings_avg_rating ON public.product_ratings USING btree (average_rating DESC)"
      }
    },
    {
      "table_name": "product_recommendations",
      "index": {
        "index_name": "idx_recommendations_product",
        "definition": "CREATE INDEX idx_recommendations_product ON public.product_recommendations USING btree (product_id)"
      }
    },
    {
      "table_name": "product_recommendations",
      "index": {
        "index_name": "idx_recommendations_type",
        "definition": "CREATE INDEX idx_recommendations_type ON public.product_recommendations USING btree (recommendation_type)"
      }
    },
    {
      "table_name": "product_recommendations",
      "index": {
        "index_name": "product_recommendations_product_id_recommended_product_id_r_key",
        "definition": "CREATE UNIQUE INDEX product_recommendations_product_id_recommended_product_id_r_key ON public.product_recommendations USING btree (product_id, recommended_product_id, recommendation_type)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_customer_type",
        "definition": "CREATE INDEX idx_profiles_customer_type ON public.profiles USING btree (customer_type)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_last_order_date",
        "definition": "CREATE INDEX idx_profiles_last_order_date ON public.profiles USING btree (last_order_date DESC)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_loyalty_points",
        "definition": "CREATE INDEX idx_profiles_loyalty_points ON public.profiles USING btree (loyalty_points)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_payment_methods_gin",
        "definition": "CREATE INDEX idx_profiles_payment_methods_gin ON public.profiles USING gin (payment_methods)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_preferences_gin",
        "definition": "CREATE INDEX idx_profiles_preferences_gin ON public.profiles USING gin (preferences)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "idx_profiles_purchase_history_gin",
        "definition": "CREATE INDEX idx_profiles_purchase_history_gin ON public.profiles USING gin (purchase_history)"
      }
    },
    {
      "table_name": "profiles",
      "index": {
        "index_name": "unique_user_profile",
        "definition": "CREATE UNIQUE INDEX unique_user_profile ON public.profiles USING btree (user_id)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_active",
        "definition": "CREATE INDEX idx_promotions_active ON public.promotions USING btree (active, start_date, end_date)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_active_dates",
        "definition": "CREATE INDEX idx_promotions_active_dates ON public.promotions USING btree (active, start_date, end_date) WHERE (active = true)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_code",
        "definition": "CREATE INDEX idx_promotions_code ON public.promotions USING btree (code) WHERE (code IS NOT NULL)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_continuous",
        "definition": "CREATE INDEX idx_promotions_continuous ON public.promotions USING btree (is_continuous, active) WHERE ((is_continuous = true) AND (active = true))"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_recurring",
        "definition": "CREATE INDEX idx_promotions_recurring ON public.promotions USING btree (recurrence_type, active) WHERE (((recurrence_type)::text <> 'none'::text) AND (active = true))"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_store",
        "definition": "CREATE INDEX idx_promotions_store ON public.promotions USING btree (store_id) WHERE (store_id IS NOT NULL)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_tenant",
        "definition": "CREATE INDEX idx_promotions_tenant ON public.promotions USING btree (tenant_id) WHERE (tenant_id IS NOT NULL)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "idx_promotions_type",
        "definition": "CREATE INDEX idx_promotions_type ON public.promotions USING btree (type)"
      }
    },
    {
      "table_name": "promotions",
      "index": {
        "index_name": "promotions_code_key",
        "definition": "CREATE UNIQUE INDEX promotions_code_key ON public.promotions USING btree (code)"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "index": {
        "index_name": "idx_provincial_suppliers_province_territory",
        "definition": "CREATE INDEX idx_provincial_suppliers_province_territory ON public.provincial_suppliers USING btree (provinces_territories_id)"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "index": {
        "index_name": "idx_suppliers_active",
        "definition": "CREATE INDEX idx_suppliers_active ON public.provincial_suppliers USING btree (is_active)"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "index": {
        "index_name": "idx_suppliers_name",
        "definition": "CREATE INDEX idx_suppliers_name ON public.provincial_suppliers USING btree (name)"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "index": {
        "index_name": "unique_province_territory_supplier",
        "definition": "CREATE UNIQUE INDEX unique_province_territory_supplier ON public.provincial_suppliers USING btree (provinces_territories_id) WHERE ((provinces_territories_id IS NOT NULL) AND (is_provincial_supplier = true))"
      }
    },
    {
      "table_name": "purchase_order_items",
      "index": {
        "index_name": "idx_po_items_po_id",
        "definition": "CREATE INDEX idx_po_items_po_id ON public.purchase_order_items USING btree (purchase_order_id)"
      }
    },
    {
      "table_name": "purchase_order_items",
      "index": {
        "index_name": "idx_po_items_sku",
        "definition": "CREATE INDEX idx_po_items_sku ON public.purchase_order_items USING btree (sku)"
      }
    },
    {
      "table_name": "purchase_order_items",
      "index": {
        "index_name": "idx_poi_case_gtin",
        "definition": "CREATE INDEX idx_poi_case_gtin ON public.purchase_order_items USING btree (case_gtin)"
      }
    },
    {
      "table_name": "purchase_order_items",
      "index": {
        "index_name": "idx_poi_gtin_barcode",
        "definition": "CREATE INDEX idx_poi_gtin_barcode ON public.purchase_order_items USING btree (gtin_barcode)"
      }
    },
    {
      "table_name": "purchase_order_items",
      "index": {
        "index_name": "idx_poi_sku_batch",
        "definition": "CREATE INDEX idx_poi_sku_batch ON public.purchase_order_items USING btree (sku, batch_lot)"
      }
    },
    {
      "table_name": "purchase_orders",
      "index": {
        "index_name": "idx_po_container_id",
        "definition": "CREATE INDEX idx_po_container_id ON public.purchase_orders USING btree (container_id)"
      }
    },
    {
      "table_name": "purchase_orders",
      "index": {
        "index_name": "idx_po_shipment_id",
        "definition": "CREATE INDEX idx_po_shipment_id ON public.purchase_orders USING btree (shipment_id)"
      }
    },
    {
      "table_name": "purchase_orders",
      "index": {
        "index_name": "idx_po_status",
        "definition": "CREATE INDEX idx_po_status ON public.purchase_orders USING btree (status)"
      }
    },
    {
      "table_name": "purchase_orders",
      "index": {
        "index_name": "idx_po_supplier",
        "definition": "CREATE INDEX idx_po_supplier ON public.purchase_orders USING btree (supplier_id)"
      }
    },
    {
      "table_name": "purchase_orders",
      "index": {
        "index_name": "idx_po_vendor",
        "definition": "CREATE INDEX idx_po_vendor ON public.purchase_orders USING btree (vendor)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "index": {
        "index_name": "idx_push_subscriptions_customer_id",
        "definition": "CREATE INDEX idx_push_subscriptions_customer_id ON public.push_subscriptions USING btree (customer_id)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "index": {
        "index_name": "idx_push_subscriptions_device_type",
        "definition": "CREATE INDEX idx_push_subscriptions_device_type ON public.push_subscriptions USING btree (device_type)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "index": {
        "index_name": "idx_push_subscriptions_is_active",
        "definition": "CREATE INDEX idx_push_subscriptions_is_active ON public.push_subscriptions USING btree (is_active)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "index": {
        "index_name": "push_subscriptions_device_token_key",
        "definition": "CREATE UNIQUE INDEX push_subscriptions_device_token_key ON public.push_subscriptions USING btree (device_token)"
      }
    },
    {
      "table_name": "review_attributes",
      "index": {
        "index_name": "idx_attributes_review",
        "definition": "CREATE INDEX idx_attributes_review ON public.review_attributes USING btree (review_id)"
      }
    },
    {
      "table_name": "review_attributes",
      "index": {
        "index_name": "pk_review_attributes",
        "definition": "CREATE UNIQUE INDEX pk_review_attributes ON public.review_attributes USING btree (review_id, attribute_name)"
      }
    },
    {
      "table_name": "review_media",
      "index": {
        "index_name": "idx_media_order",
        "definition": "CREATE INDEX idx_media_order ON public.review_media USING btree (review_id, display_order)"
      }
    },
    {
      "table_name": "review_media",
      "index": {
        "index_name": "idx_media_review",
        "definition": "CREATE INDEX idx_media_review ON public.review_media USING btree (review_id)"
      }
    },
    {
      "table_name": "review_summary_view",
      "index": {
        "index_name": "idx_review_summary_rating",
        "definition": "CREATE INDEX idx_review_summary_rating ON public.review_summary_view USING btree (average_rating DESC)"
      }
    },
    {
      "table_name": "review_summary_view",
      "index": {
        "index_name": "idx_review_summary_sku",
        "definition": "CREATE INDEX idx_review_summary_sku ON public.review_summary_view USING btree (sku)"
      }
    },
    {
      "table_name": "review_votes",
      "index": {
        "index_name": "idx_votes_review",
        "definition": "CREATE INDEX idx_votes_review ON public.review_votes USING btree (review_id)"
      }
    },
    {
      "table_name": "review_votes",
      "index": {
        "index_name": "idx_votes_user",
        "definition": "CREATE INDEX idx_votes_user ON public.review_votes USING btree (user_id)"
      }
    },
    {
      "table_name": "review_votes",
      "index": {
        "index_name": "unique_user_review_vote",
        "definition": "CREATE UNIQUE INDEX unique_user_review_vote ON public.review_votes USING btree (review_id, user_id)"
      }
    },
    {
      "table_name": "role_permissions",
      "index": {
        "index_name": "role_permissions_role_resource_type_action_key",
        "definition": "CREATE UNIQUE INDEX role_permissions_role_resource_type_action_key ON public.role_permissions USING btree (role, resource_type, action)"
      }
    },
    {
      "table_name": "shelf_locations",
      "index": {
        "index_name": "idx_shelf_locations_active",
        "definition": "CREATE INDEX idx_shelf_locations_active ON public.shelf_locations USING btree (is_active, is_available)"
      }
    },
    {
      "table_name": "shelf_locations",
      "index": {
        "index_name": "idx_shelf_locations_code",
        "definition": "CREATE INDEX idx_shelf_locations_code ON public.shelf_locations USING btree (location_code)"
      }
    },
    {
      "table_name": "shelf_locations",
      "index": {
        "index_name": "idx_shelf_locations_store",
        "definition": "CREATE INDEX idx_shelf_locations_store ON public.shelf_locations USING btree (store_id)"
      }
    },
    {
      "table_name": "shelf_locations",
      "index": {
        "index_name": "idx_shelf_locations_type",
        "definition": "CREATE INDEX idx_shelf_locations_type ON public.shelf_locations USING btree (location_type)"
      }
    },
    {
      "table_name": "shelf_locations",
      "index": {
        "index_name": "unique_location_per_store",
        "definition": "CREATE UNIQUE INDEX unique_location_per_store ON public.shelf_locations USING btree (store_id, zone, aisle, shelf, bin)"
      }
    },
    {
      "table_name": "staff_delivery_status",
      "index": {
        "index_name": "idx_staff_delivery_status_user_id",
        "definition": "CREATE INDEX idx_staff_delivery_status_user_id ON public.staff_delivery_status USING btree (user_id)"
      }
    },
    {
      "table_name": "store_settings",
      "index": {
        "index_name": "idx_store_settings_category",
        "definition": "CREATE INDEX idx_store_settings_category ON public.store_settings USING btree (category)"
      }
    },
    {
      "table_name": "store_settings",
      "index": {
        "index_name": "idx_store_settings_store",
        "definition": "CREATE INDEX idx_store_settings_store ON public.store_settings USING btree (store_id)"
      }
    },
    {
      "table_name": "store_settings",
      "index": {
        "index_name": "store_settings_store_id_category_key_key",
        "definition": "CREATE UNIQUE INDEX store_settings_store_id_category_key_key ON public.store_settings USING btree (store_id, category, key)"
      }
    },
    {
      "table_name": "system_settings",
      "index": {
        "index_name": "system_settings_category_key_key",
        "definition": "CREATE UNIQUE INDEX system_settings_category_key_key ON public.system_settings USING btree (category, key)"
      }
    },
    {
      "table_name": "tax_rates",
      "index": {
        "index_name": "idx_tax_rates_effective",
        "definition": "CREATE INDEX idx_tax_rates_effective ON public.tax_rates USING btree (effective_from, effective_to)"
      }
    },
    {
      "table_name": "tax_rates",
      "index": {
        "index_name": "idx_tax_rates_tenant",
        "definition": "CREATE INDEX idx_tax_rates_tenant ON public.tax_rates USING btree (tenant_id, is_active)"
      }
    },
    {
      "table_name": "tenants",
      "index": {
        "index_name": "tenants_name_key",
        "definition": "CREATE UNIQUE INDEX tenants_name_key ON public.tenants USING btree (name)"
      }
    },
    {
      "table_name": "token_blacklist",
      "index": {
        "index_name": "idx_token_blacklist_expires_at",
        "definition": "CREATE INDEX idx_token_blacklist_expires_at ON public.token_blacklist USING btree (expires_at)"
      }
    },
    {
      "table_name": "token_blacklist",
      "index": {
        "index_name": "idx_token_blacklist_token_id",
        "definition": "CREATE INDEX idx_token_blacklist_token_id ON public.token_blacklist USING btree (token_id)"
      }
    },
    {
      "table_name": "token_blacklist",
      "index": {
        "index_name": "token_blacklist_token_id_key",
        "definition": "CREATE UNIQUE INDEX token_blacklist_token_id_key ON public.token_blacklist USING btree (token_id)"
      }
    },
    {
      "table_name": "training_sessions",
      "index": {
        "index_name": "training_sessions_session_id_key",
        "definition": "CREATE UNIQUE INDEX training_sessions_session_id_key ON public.training_sessions USING btree (session_id)"
      }
    },
    {
      "table_name": "translation_batch_items",
      "index": {
        "index_name": "idx_batch_items_batch",
        "definition": "CREATE INDEX idx_batch_items_batch ON public.translation_batch_items USING btree (batch_id)"
      }
    },
    {
      "table_name": "translation_batch_items",
      "index": {
        "index_name": "idx_batch_items_status",
        "definition": "CREATE INDEX idx_batch_items_status ON public.translation_batch_items USING btree (status)"
      }
    },
    {
      "table_name": "translation_batches",
      "index": {
        "index_name": "translation_batches_batch_key_key",
        "definition": "CREATE UNIQUE INDEX translation_batches_batch_key_key ON public.translation_batches USING btree (batch_key)"
      }
    },
    {
      "table_name": "translation_overrides",
      "index": {
        "index_name": "idx_overrides_active",
        "definition": "CREATE INDEX idx_overrides_active ON public.translation_overrides USING btree (is_active) WHERE (is_active = true)"
      }
    },
    {
      "table_name": "translation_overrides",
      "index": {
        "index_name": "idx_overrides_translation",
        "definition": "CREATE INDEX idx_overrides_translation ON public.translation_overrides USING btree (translation_id)"
      }
    },
    {
      "table_name": "translations",
      "index": {
        "index_name": "idx_translations_created",
        "definition": "CREATE INDEX idx_translations_created ON public.translations USING btree (created_at DESC)"
      }
    },
    {
      "table_name": "translations",
      "index": {
        "index_name": "idx_translations_lookup",
        "definition": "CREATE INDEX idx_translations_lookup ON public.translations USING btree (source_text, target_language, context, namespace)"
      }
    },
    {
      "table_name": "translations",
      "index": {
        "index_name": "idx_translations_usage",
        "definition": "CREATE INDEX idx_translations_usage ON public.translations USING btree (usage_count DESC, last_used_at DESC)"
      }
    },
    {
      "table_name": "translations",
      "index": {
        "index_name": "idx_translations_verified",
        "definition": "CREATE INDEX idx_translations_verified ON public.translations USING btree (is_verified) WHERE (is_verified = true)"
      }
    },
    {
      "table_name": "translations",
      "index": {
        "index_name": "translations_source_text_source_language_target_language_co_key",
        "definition": "CREATE UNIQUE INDEX translations_source_text_source_language_target_language_co_key ON public.translations USING btree (source_text, source_language, target_language, context, namespace)"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "index": {
        "index_name": "idx_unsubscribe_list_channel_type",
        "definition": "CREATE INDEX idx_unsubscribe_list_channel_type ON public.unsubscribe_list USING btree (channel_type)"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "index": {
        "index_name": "idx_unsubscribe_list_customer_id",
        "definition": "CREATE INDEX idx_unsubscribe_list_customer_id ON public.unsubscribe_list USING btree (customer_id) WHERE (customer_id IS NOT NULL)"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "index": {
        "index_name": "idx_unsubscribe_list_phone",
        "definition": "CREATE INDEX idx_unsubscribe_list_phone ON public.unsubscribe_list USING btree (phone_number) WHERE (phone_number IS NOT NULL)"
      }
    },
    {
      "table_name": "user_addresses",
      "index": {
        "index_name": "idx_user_addresses_user",
        "definition": "CREATE INDEX idx_user_addresses_user ON public.user_addresses USING btree (user_id)"
      }
    },
    {
      "table_name": "user_addresses",
      "index": {
        "index_name": "unique_default_billing_per_user",
        "definition": "CREATE INDEX unique_default_billing_per_user ON public.user_addresses USING btree (user_id) WHERE ((is_default = true) AND ((address_type)::text = 'billing'::text))"
      }
    },
    {
      "table_name": "user_addresses",
      "index": {
        "index_name": "unique_default_delivery_per_user",
        "definition": "CREATE INDEX unique_default_delivery_per_user ON public.user_addresses USING btree (user_id) WHERE ((is_default = true) AND ((address_type)::text = 'delivery'::text))"
      }
    },
    {
      "table_name": "user_login_logs",
      "index": {
        "index_name": "idx_user_login_logs_ip_address",
        "definition": "CREATE INDEX idx_user_login_logs_ip_address ON public.user_login_logs USING btree (ip_address)"
      }
    },
    {
      "table_name": "user_login_logs",
      "index": {
        "index_name": "idx_user_login_logs_session_id",
        "definition": "CREATE INDEX idx_user_login_logs_session_id ON public.user_login_logs USING btree (session_id)"
      }
    },
    {
      "table_name": "user_login_logs",
      "index": {
        "index_name": "idx_user_login_logs_tenant_id",
        "definition": "CREATE INDEX idx_user_login_logs_tenant_id ON public.user_login_logs USING btree (tenant_id)"
      }
    },
    {
      "table_name": "user_login_logs",
      "index": {
        "index_name": "idx_user_login_logs_timestamp",
        "definition": "CREATE INDEX idx_user_login_logs_timestamp ON public.user_login_logs USING btree (login_timestamp DESC)"
      }
    },
    {
      "table_name": "user_login_logs",
      "index": {
        "index_name": "idx_user_login_logs_user_id",
        "definition": "CREATE INDEX idx_user_login_logs_user_id ON public.user_login_logs USING btree (user_id)"
      }
    },
    {
      "table_name": "user_sessions",
      "index": {
        "index_name": "idx_user_sessions_expires_at",
        "definition": "CREATE INDEX idx_user_sessions_expires_at ON public.user_sessions USING btree (expires_at)"
      }
    },
    {
      "table_name": "user_sessions",
      "index": {
        "index_name": "idx_user_sessions_session_token",
        "definition": "CREATE INDEX idx_user_sessions_session_token ON public.user_sessions USING btree (session_token)"
      }
    },
    {
      "table_name": "user_sessions",
      "index": {
        "index_name": "idx_user_sessions_user_id",
        "definition": "CREATE INDEX idx_user_sessions_user_id ON public.user_sessions USING btree (user_id)"
      }
    },
    {
      "table_name": "user_sessions",
      "index": {
        "index_name": "user_sessions_session_token_key",
        "definition": "CREATE UNIQUE INDEX user_sessions_session_token_key ON public.user_sessions USING btree (session_token)"
      }
    },
    {
      "table_name": "users",
      "index": {
        "index_name": "idx_users_role_customer",
        "definition": "CREATE INDEX idx_users_role_customer ON public.users USING btree (role) WHERE (role = 'customer'::user_role_simple)"
      }
    },
    {
      "table_name": "voice_auth_logs",
      "index": {
        "index_name": "idx_voice_auth_logs_timestamp",
        "definition": "CREATE INDEX idx_voice_auth_logs_timestamp ON public.voice_auth_logs USING btree (\"timestamp\")"
      }
    },
    {
      "table_name": "voice_auth_logs",
      "index": {
        "index_name": "idx_voice_auth_logs_user_id",
        "definition": "CREATE INDEX idx_voice_auth_logs_user_id ON public.voice_auth_logs USING btree (user_id)"
      }
    },
    {
      "table_name": "voice_profiles",
      "index": {
        "index_name": "idx_voice_profiles_user_id",
        "definition": "CREATE INDEX idx_voice_profiles_user_id ON public.voice_profiles USING btree (user_id)"
      }
    },
    {
      "table_name": "wishlist",
      "index": {
        "index_name": "idx_wishlist_added_at",
        "definition": "CREATE INDEX idx_wishlist_added_at ON public.wishlist USING btree (added_at DESC)"
      }
    },
    {
      "table_name": "wishlist",
      "index": {
        "index_name": "idx_wishlist_customer",
        "definition": "CREATE INDEX idx_wishlist_customer ON public.wishlist USING btree (customer_id)"
      }
    },
    {
      "table_name": "wishlist",
      "index": {
        "index_name": "idx_wishlist_priority",
        "definition": "CREATE INDEX idx_wishlist_priority ON public.wishlist USING btree (priority DESC)"
      }
    },
    {
      "table_name": "wishlist",
      "index": {
        "index_name": "idx_wishlist_store",
        "definition": "CREATE INDEX idx_wishlist_store ON public.wishlist USING btree (store_id)"
      }
    },
    {
      "table_name": "wishlist",
      "index": {
        "index_name": "unique_wishlist_item",
        "definition": "CREATE UNIQUE INDEX unique_wishlist_item ON public.wishlist USING btree (customer_id, product_id, store_id)"
      }
    }
  ],
  "missing_constraints": [
    {
      "table_name": "accessories_catalog",
      "constraint": {
        "constraint_name": "accessories_catalog_barcode_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (barcode)"
      }
    },
    {
      "table_name": "accessory_categories",
      "constraint": {
        "constraint_name": "accessory_categories_slug_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (slug)"
      }
    },
    {
      "table_name": "agi_audit_aggregates",
      "constraint": {
        "constraint_name": "agi_audit_aggregates_period_start_period_end_event_type_sev_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (period_start, period_end, event_type, severity)"
      }
    },
    {
      "table_name": "ai_conversations",
      "constraint": {
        "constraint_name": "ai_conversations_personality_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (personality_id) REFERENCES ai_personalities(id)"
      }
    },
    {
      "table_name": "ai_personalities",
      "constraint": {
        "constraint_name": "ai_personalities_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "api_keys",
      "constraint": {
        "constraint_name": "api_keys_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "audit_log",
      "constraint": {
        "constraint_name": "audit_log_store_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (store_id) REFERENCES stores(id)"
      }
    },
    {
      "table_name": "audit_log",
      "constraint": {
        "constraint_name": "audit_log_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "auth_tokens",
      "constraint": {
        "constraint_name": "auth_tokens_token_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((token_type)::text = ANY ((ARRAY['email_verification'::character varying, 'password_reset'::character varying, 'refresh'::character varying, 'api_key'::character varying])::text[])))"
      }
    },
    {
      "table_name": "batch_tracking",
      "constraint": {
        "constraint_name": "batch_tracking_batch_lot_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (batch_lot)"
      }
    },
    {
      "table_name": "batch_tracking",
      "constraint": {
        "constraint_name": "batch_tracking_location_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (location_id) REFERENCES shelf_locations(id)"
      }
    },
    {
      "table_name": "batch_tracking",
      "constraint": {
        "constraint_name": "batch_tracking_purchase_order_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (purchase_order_id) REFERENCES purchase_orders(id)"
      }
    },
    {
      "table_name": "broadcast_audit_logs",
      "constraint": {
        "constraint_name": "broadcast_audit_logs_action_category_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((action_category)::text = ANY ((ARRAY['create'::character varying, 'update'::character varying, 'send'::character varying, 'cancel'::character varying, 'pause'::character varying, 'resume'::character varying, 'delete'::character varying, 'approve'::character varying])::text[])))"
      }
    },
    {
      "table_name": "broadcast_messages",
      "constraint": {
        "constraint_name": "broadcast_messages_broadcast_id_channel_type_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (broadcast_id, channel_type)"
      }
    },
    {
      "table_name": "broadcast_messages",
      "constraint": {
        "constraint_name": "broadcast_messages_channel_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((channel_type)::text = ANY ((ARRAY['email'::character varying, 'sms'::character varying, 'push'::character varying])::text[])))"
      }
    },
    {
      "table_name": "broadcast_messages",
      "constraint": {
        "constraint_name": "broadcast_messages_priority_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((priority)::text = ANY ((ARRAY['low'::character varying, 'normal'::character varying, 'high'::character varying, 'urgent'::character varying])::text[])))"
      }
    },
    {
      "table_name": "broadcast_messages",
      "constraint": {
        "constraint_name": "broadcast_messages_template_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (template_id) REFERENCES message_templates(id)"
      }
    },
    {
      "table_name": "broadcast_segments",
      "constraint": {
        "constraint_name": "broadcast_segments_broadcast_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (broadcast_id) REFERENCES broadcasts(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "broadcasts",
      "constraint": {
        "constraint_name": "broadcasts_status_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((status)::text = ANY ((ARRAY['draft'::character varying, 'scheduled'::character varying, 'sending'::character varying, 'sent'::character varying, 'paused'::character varying, 'cancelled'::character varying, 'failed'::character varying])::text[])))"
      }
    },
    {
      "table_name": "broadcasts",
      "constraint": {
        "constraint_name": "broadcasts_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "cart_sessions",
      "constraint": {
        "constraint_name": "cart_sessions_ai_personality_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (ai_personality_id) REFERENCES ai_personalities(id)"
      }
    },
    {
      "table_name": "cart_sessions",
      "constraint": {
        "constraint_name": "cart_sessions_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "communication_analytics",
      "constraint": {
        "constraint_name": "communication_analytics_broadcast_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (broadcast_id) REFERENCES broadcasts(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "communication_analytics",
      "constraint": {
        "constraint_name": "communication_analytics_broadcast_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (broadcast_id)"
      }
    },
    {
      "table_name": "communication_preferences",
      "constraint": {
        "constraint_name": "communication_preferences_customer_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (customer_id)"
      }
    },
    {
      "table_name": "communication_preferences",
      "constraint": {
        "constraint_name": "communication_preferences_email_unsubscribe_token_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (email_unsubscribe_token)"
      }
    },
    {
      "table_name": "communication_preferences",
      "constraint": {
        "constraint_name": "communication_preferences_frequency_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((frequency)::text = ANY ((ARRAY['immediate'::character varying, 'daily'::character varying, 'weekly'::character varying, 'monthly'::character varying, 'normal'::character varying])::text[])))"
      }
    },
    {
      "table_name": "communication_preferences",
      "constraint": {
        "constraint_name": "communication_preferences_sms_unsubscribe_token_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (sms_unsubscribe_token)"
      }
    },
    {
      "table_name": "conversation_states",
      "constraint": {
        "constraint_name": "conversation_states_session_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (session_id)"
      }
    },
    {
      "table_name": "customer_pricing_rules",
      "constraint": {
        "constraint_name": "customer_pricing_rules_price_tier_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (price_tier_id) REFERENCES price_tiers(id)"
      }
    },
    {
      "table_name": "customer_pricing_rules",
      "constraint": {
        "constraint_name": "customer_pricing_rules_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "customer_reviews_helpful_count_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((helpful_count >= 0))"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "customer_reviews_not_helpful_count_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((not_helpful_count >= 0))"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "customer_reviews_status_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((status)::text = ANY ((ARRAY['pending'::character varying, 'approved'::character varying, 'rejected'::character varying, 'flagged'::character varying])::text[])))"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "fk_reviews_orders",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "fk_reviews_product_ratings",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (sku) REFERENCES product_ratings(sku) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "customer_reviews",
      "constraint": {
        "constraint_name": "fk_reviews_users",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "deliveries",
      "constraint": {
        "constraint_name": "deliveries_customer_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (customer_id) REFERENCES profiles(id)"
      }
    },
    {
      "table_name": "deliveries",
      "constraint": {
        "constraint_name": "deliveries_delivery_address_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((delivery_address ? 'street'::text) AND (delivery_address ? 'city'::text) AND (delivery_address ? 'postal_code'::text)))"
      }
    },
    {
      "table_name": "deliveries",
      "constraint": {
        "constraint_name": "deliveries_rating_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((rating >= 1) AND (rating <= 5)))"
      }
    },
    {
      "table_name": "delivery_geofences",
      "constraint": {
        "constraint_name": "delivery_geofences_delivery_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (delivery_id) REFERENCES deliveries(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "delivery_tracking",
      "constraint": {
        "constraint_name": "delivery_tracking_battery_level_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((battery_level >= 0) AND (battery_level <= 100)))"
      }
    },
    {
      "table_name": "delivery_tracking",
      "constraint": {
        "constraint_name": "delivery_tracking_heading_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((heading >= 0) AND (heading <= 360)))"
      }
    },
    {
      "table_name": "delivery_zones",
      "constraint": {
        "constraint_name": "delivery_zones_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "delivery_zones",
      "constraint": {
        "constraint_name": "delivery_zones_zone_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((zone_type)::text = ANY ((ARRAY['radius'::character varying, 'polygon'::character varying, 'postal_codes'::character varying])::text[])))"
      }
    },
    {
      "table_name": "discount_codes",
      "constraint": {
        "constraint_name": "discount_codes_discount_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((discount_type)::text = ANY ((ARRAY['percentage'::character varying, 'fixed'::character varying, 'bogo'::character varying, 'free_delivery'::character varying])::text[])))"
      }
    },
    {
      "table_name": "discount_codes",
      "constraint": {
        "constraint_name": "discount_codes_promotion_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (promotion_id) REFERENCES promotions(id)"
      }
    },
    {
      "table_name": "discount_codes",
      "constraint": {
        "constraint_name": "discount_codes_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holiday_date_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((((date_type)::text = 'fixed'::text) AND (fixed_month IS NOT NULL) AND (fixed_day IS NOT NULL)) OR (((date_type)::text = 'floating'::text) AND (floating_rule IS NOT NULL)) OR (((date_type)::text = 'calculated'::text) AND (calculation_rule IS NOT NULL))))"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holidays_date_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((date_type)::text = ANY ((ARRAY['fixed'::character varying, 'floating'::character varying, 'calculated'::character varying])::text[])))"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holidays_fixed_day_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((fixed_day >= 1) AND (fixed_day <= 31)))"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holidays_fixed_month_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((fixed_month >= 1) AND (fixed_month <= 12)))"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holidays_holiday_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((holiday_type)::text = ANY ((ARRAY['federal'::character varying, 'provincial'::character varying, 'municipal'::character varying, 'custom'::character varying])::text[])))"
      }
    },
    {
      "table_name": "holidays",
      "constraint": {
        "constraint_name": "holidays_typical_business_impact_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((typical_business_impact)::text = ANY ((ARRAY['closed'::character varying, 'reduced_hours'::character varying, 'normal'::character varying, 'extended_hours'::character varying])::text[])))"
      }
    },
    {
      "table_name": "inventory_locations",
      "constraint": {
        "constraint_name": "inventory_locations_code_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (code)"
      }
    },
    {
      "table_name": "location_assignments_log",
      "constraint": {
        "constraint_name": "location_assignments_log_inventory_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (inventory_id) REFERENCES ocs_inventory(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "location_assignments_log",
      "constraint": {
        "constraint_name": "location_assignments_log_location_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (location_id) REFERENCES inventory_locations(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "message_templates",
      "constraint": {
        "constraint_name": "message_templates_category_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((category)::text = ANY ((ARRAY['promotional'::character varying, 'transactional'::character varying, 'alert'::character varying, 'general'::character varying])::text[])))"
      }
    },
    {
      "table_name": "message_templates",
      "constraint": {
        "constraint_name": "message_templates_channel_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((channel_type)::text = ANY ((ARRAY['email'::character varying, 'sms'::character varying, 'push'::character varying])::text[])))"
      }
    },
    {
      "table_name": "message_templates",
      "constraint": {
        "constraint_name": "message_templates_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "model_deployments",
      "constraint": {
        "constraint_name": "model_deployments_deployment_name_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (deployment_name)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "constraint": {
        "constraint_name": "ocs_inventory_quantity_available_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((quantity_available >= 0))"
      }
    },
    {
      "table_name": "ocs_inventory",
      "constraint": {
        "constraint_name": "ocs_inventory_quantity_on_hand_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((quantity_on_hand >= 0))"
      }
    },
    {
      "table_name": "ocs_inventory",
      "constraint": {
        "constraint_name": "ocs_inventory_quantity_reserved_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((quantity_reserved >= 0))"
      }
    },
    {
      "table_name": "ocs_inventory",
      "constraint": {
        "constraint_name": "ocs_inventory_store_id_sku_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (store_id, sku)"
      }
    },
    {
      "table_name": "ocs_inventory",
      "constraint": {
        "constraint_name": "ocs_inventory_store_sku_unique",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (store_id, sku)"
      }
    },
    {
      "table_name": "ocs_inventory_logs",
      "constraint": {
        "constraint_name": "ocs_inventory_logs_inventory_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (inventory_id) REFERENCES ocs_inventory(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "ocs_inventory_movements",
      "constraint": {
        "constraint_name": "ocs_inventory_movements_inventory_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (inventory_id) REFERENCES ocs_inventory(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "ocs_inventory_reservations",
      "constraint": {
        "constraint_name": "ocs_inventory_reservations_inventory_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (inventory_id) REFERENCES ocs_inventory(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "ocs_inventory_snapshots",
      "constraint": {
        "constraint_name": "ocs_inventory_snapshots_inventory_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (inventory_id) REFERENCES ocs_inventory(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "ocs_inventory_transactions",
      "constraint": {
        "constraint_name": "inventory_transactions_store_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (store_id) REFERENCES stores(id)"
      }
    },
    {
      "table_name": "ocs_inventory_transactions",
      "constraint": {
        "constraint_name": "inventory_transactions_transaction_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((transaction_type)::text = ANY ((ARRAY['purchase'::character varying, 'sale'::character varying, 'adjustment'::character varying, 'return'::character varying, 'transfer'::character varying])::text[])))"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "constraint": {
        "constraint_name": "product_catalog_ocs_rating_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((rating >= (0)::numeric) AND (rating <= (5)::numeric)))"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "constraint": {
        "constraint_name": "product_catalog_ocs_rating_count_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((rating_count >= 0))"
      }
    },
    {
      "table_name": "ocs_product_catalog",
      "constraint": {
        "constraint_name": "uk_product_catalog_ocs_variant",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (ocs_variant_number)"
      }
    },
    {
      "table_name": "payment_audit_log",
      "constraint": {
        "constraint_name": "payment_audit_log_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "payment_credentials",
      "constraint": {
        "constraint_name": "payment_credentials_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "payment_credentials",
      "constraint": {
        "constraint_name": "payment_credentials_updated_by_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (updated_by) REFERENCES users(id)"
      }
    },
    {
      "table_name": "payment_disputes",
      "constraint": {
        "constraint_name": "payment_disputes_provider_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (provider_id) REFERENCES payment_providers(id)"
      }
    },
    {
      "table_name": "payment_fee_splits",
      "constraint": {
        "constraint_name": "payment_fee_splits_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "payment_fee_splits",
      "constraint": {
        "constraint_name": "payment_fee_splits_transaction_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (transaction_id)"
      }
    },
    {
      "table_name": "payment_idempotency_keys",
      "constraint": {
        "constraint_name": "payment_idempotency_keys_status_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((status)::text = ANY ((ARRAY['processing'::character varying, 'completed'::character varying, 'failed'::character varying])::text[])))"
      }
    },
    {
      "table_name": "payment_idempotency_keys",
      "constraint": {
        "constraint_name": "payment_idempotency_keys_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "payment_methods",
      "constraint": {
        "constraint_name": "payment_methods_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "payment_methods",
      "constraint": {
        "constraint_name": "payment_methods_tenant_id_payment_token_provider_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (tenant_id, payment_token, provider_id)"
      }
    },
    {
      "table_name": "payment_metrics",
      "constraint": {
        "constraint_name": "payment_metrics_date_provider_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (date, provider_id)"
      }
    },
    {
      "table_name": "payment_providers",
      "constraint": {
        "constraint_name": "payment_providers_name_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (name)"
      }
    },
    {
      "table_name": "payment_refunds",
      "constraint": {
        "constraint_name": "payment_refunds_initiated_by_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (initiated_by) REFERENCES users(id)"
      }
    },
    {
      "table_name": "payment_refunds",
      "constraint": {
        "constraint_name": "payment_refunds_refund_transaction_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (refund_transaction_id) REFERENCES payment_transactions(id)"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "constraint": {
        "constraint_name": "payment_subscriptions_provider_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (provider_id) REFERENCES payment_providers(id)"
      }
    },
    {
      "table_name": "payment_subscriptions",
      "constraint": {
        "constraint_name": "payment_subscriptions_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "payment_transactions",
      "constraint": {
        "constraint_name": "payment_transactions_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "payment_transactions",
      "constraint": {
        "constraint_name": "payment_transactions_transaction_reference_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (transaction_reference)"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "constraint": {
        "constraint_name": "payment_webhook_routes_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "payment_webhook_routes",
      "constraint": {
        "constraint_name": "payment_webhook_routes_webhook_url_path_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (webhook_url_path)"
      }
    },
    {
      "table_name": "price_tiers",
      "constraint": {
        "constraint_name": "price_tiers_name_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (name)"
      }
    },
    {
      "table_name": "pricing_rules",
      "constraint": {
        "constraint_name": "unique_store_category_rule",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (store_id, category, sub_category, sub_sub_category)"
      }
    },
    {
      "table_name": "product_ratings",
      "constraint": {
        "constraint_name": "product_ratings_average_rating_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((average_rating >= (0)::numeric) AND (average_rating <= (5)::numeric)))"
      }
    },
    {
      "table_name": "product_ratings",
      "constraint": {
        "constraint_name": "product_ratings_recommended_percentage_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((recommended_percentage >= (0)::numeric) AND (recommended_percentage <= (100)::numeric)))"
      }
    },
    {
      "table_name": "product_ratings",
      "constraint": {
        "constraint_name": "product_ratings_total_reviews_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((total_reviews >= 0))"
      }
    },
    {
      "table_name": "product_ratings",
      "constraint": {
        "constraint_name": "product_ratings_verified_purchase_count_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((verified_purchase_count >= 0))"
      }
    },
    {
      "table_name": "product_recommendations",
      "constraint": {
        "constraint_name": "product_recommendations_product_id_recommended_product_id_r_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (product_id, recommended_product_id, recommendation_type)"
      }
    },
    {
      "table_name": "profiles",
      "constraint": {
        "constraint_name": "unique_user_profile",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (user_id)"
      }
    },
    {
      "table_name": "promotion_usage",
      "constraint": {
        "constraint_name": "promotion_usage_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "check_continuous_end_date",
        "constraint_type": "CHECK",
        "definition": "CHECK ((((is_continuous = true) AND (end_date IS NULL)) OR (is_continuous = false)))"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "check_recurrence_logic",
        "constraint_type": "CHECK",
        "definition": "CHECK ((((recurrence_type)::text = 'none'::text) OR ((recurrence_type)::text = 'daily'::text) OR (((recurrence_type)::text = 'weekly'::text) AND (day_of_week IS NOT NULL) AND (array_length(day_of_week, 1) > 0))))"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "check_time_window_complete",
        "constraint_type": "CHECK",
        "definition": "CHECK ((((time_start IS NULL) AND (time_end IS NULL)) OR ((time_start IS NOT NULL) AND (time_end IS NOT NULL))))"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "check_time_window_valid",
        "constraint_type": "CHECK",
        "definition": "CHECK (((time_start IS NULL) OR (time_end IS NULL) OR (time_start < time_end)))"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "promotions_code_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (code)"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "promotions_created_by_user_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (created_by_user_id) REFERENCES users(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "promotions",
      "constraint": {
        "constraint_name": "promotions_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "provinces_territories",
      "constraint": {
        "constraint_name": "provinces_territories_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((type)::text = ANY ((ARRAY['province'::character varying, 'territory'::character varying])::text[])))"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "constraint": {
        "constraint_name": "fk_provincial_supplier_province_territory",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (provinces_territories_id) REFERENCES provinces_territories(id) ON UPDATE CASCADE ON DELETE SET NULL"
      }
    },
    {
      "table_name": "provincial_suppliers",
      "constraint": {
        "constraint_name": "suppliers_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "purchase_order_items",
      "constraint": {
        "constraint_name": "purchase_order_items_quantity_ordered_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((quantity_ordered > 0))"
      }
    },
    {
      "table_name": "purchase_order_items",
      "constraint": {
        "constraint_name": "purchase_order_items_quantity_received_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((quantity_received >= 0))"
      }
    },
    {
      "table_name": "purchase_order_items",
      "constraint": {
        "constraint_name": "purchase_order_items_unit_cost_check",
        "constraint_type": "CHECK",
        "definition": "CHECK ((unit_cost >= (0)::numeric))"
      }
    },
    {
      "table_name": "purchase_orders",
      "constraint": {
        "constraint_name": "purchase_orders_status_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((status)::text = ANY ((ARRAY['pending'::character varying, 'partial'::character varying, 'received'::character varying, 'cancelled'::character varying])::text[])))"
      }
    },
    {
      "table_name": "purchase_orders",
      "constraint": {
        "constraint_name": "purchase_orders_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "constraint": {
        "constraint_name": "push_subscriptions_device_token_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (device_token)"
      }
    },
    {
      "table_name": "push_subscriptions",
      "constraint": {
        "constraint_name": "push_subscriptions_device_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((device_type)::text = ANY ((ARRAY['ios'::character varying, 'android'::character varying, 'web'::character varying])::text[])))"
      }
    },
    {
      "table_name": "review_attributes",
      "constraint": {
        "constraint_name": "chk_attribute_name",
        "constraint_type": "CHECK",
        "definition": "CHECK (((attribute_name)::text = ANY ((ARRAY['effects'::character varying, 'flavor'::character varying, 'potency'::character varying, 'aroma'::character varying, 'value'::character varying, 'quality'::character varying])::text[])))"
      }
    },
    {
      "table_name": "review_attributes",
      "constraint": {
        "constraint_name": "fk_attributes_reviews",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (review_id) REFERENCES customer_reviews(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "review_attributes",
      "constraint": {
        "constraint_name": "review_attributes_rating_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((rating >= 1) AND (rating <= 5)))"
      }
    },
    {
      "table_name": "review_media",
      "constraint": {
        "constraint_name": "fk_media_reviews",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (review_id) REFERENCES customer_reviews(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "review_media",
      "constraint": {
        "constraint_name": "review_media_media_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((media_type)::text = ANY ((ARRAY['image'::character varying, 'video'::character varying])::text[])))"
      }
    },
    {
      "table_name": "review_votes",
      "constraint": {
        "constraint_name": "fk_votes_reviews",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (review_id) REFERENCES customer_reviews(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "review_votes",
      "constraint": {
        "constraint_name": "fk_votes_users",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "review_votes",
      "constraint": {
        "constraint_name": "unique_user_review_vote",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (review_id, user_id)"
      }
    },
    {
      "table_name": "role_permissions",
      "constraint": {
        "constraint_name": "role_permissions_role_resource_type_action_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (role, resource_type, action)"
      }
    },
    {
      "table_name": "shelf_locations",
      "constraint": {
        "constraint_name": "unique_location_per_store",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (store_id, zone, aisle, shelf, bin)"
      }
    },
    {
      "table_name": "store_settings",
      "constraint": {
        "constraint_name": "store_settings_store_id_category_key_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (store_id, category, key)"
      }
    },
    {
      "table_name": "system_settings",
      "constraint": {
        "constraint_name": "system_settings_category_key_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (category, key)"
      }
    },
    {
      "table_name": "tax_rates",
      "constraint": {
        "constraint_name": "tax_rates_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id)"
      }
    },
    {
      "table_name": "tenants",
      "constraint": {
        "constraint_name": "tenants_name_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (name)"
      }
    },
    {
      "table_name": "tenants",
      "constraint": {
        "constraint_name": "tenants_status_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((status)::text = ANY ((ARRAY['active'::character varying, 'suspended'::character varying, 'cancelled'::character varying, 'trial'::character varying])::text[])))"
      }
    },
    {
      "table_name": "tenants",
      "constraint": {
        "constraint_name": "tenants_subscription_tier_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((subscription_tier)::text = ANY ((ARRAY['community_and_new_business'::character varying, 'small_business'::character varying, 'professional_and_growing_business'::character varying, 'enterprise'::character varying])::text[])))"
      }
    },
    {
      "table_name": "token_blacklist",
      "constraint": {
        "constraint_name": "token_blacklist_token_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (token_id)"
      }
    },
    {
      "table_name": "token_blacklist",
      "constraint": {
        "constraint_name": "token_blacklist_user_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "training_sessions",
      "constraint": {
        "constraint_name": "training_sessions_session_id_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (session_id)"
      }
    },
    {
      "table_name": "translation_batches",
      "constraint": {
        "constraint_name": "translation_batches_batch_key_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (batch_key)"
      }
    },
    {
      "table_name": "translation_overrides",
      "constraint": {
        "constraint_name": "translation_overrides_translation_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (translation_id) REFERENCES translations(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "translations",
      "constraint": {
        "constraint_name": "translations_source_text_source_language_target_language_co_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (source_text, source_language, target_language, context, namespace)"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "constraint": {
        "constraint_name": "unsubscribe_list_broadcast_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (broadcast_id) REFERENCES broadcasts(id)"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "constraint": {
        "constraint_name": "unsubscribe_list_channel_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((channel_type)::text = ANY ((ARRAY['email'::character varying, 'sms'::character varying, 'push'::character varying, 'all'::character varying])::text[])))"
      }
    },
    {
      "table_name": "unsubscribe_list",
      "constraint": {
        "constraint_name": "unsubscribe_list_unsubscribe_source_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((unsubscribe_source)::text = ANY ((ARRAY['link'::character varying, 'reply'::character varying, 'admin'::character varying, 'api'::character varying, 'customer_request'::character varying])::text[])))"
      }
    },
    {
      "table_name": "user_addresses",
      "constraint": {
        "constraint_name": "user_addresses_address_type_check",
        "constraint_type": "CHECK",
        "definition": "CHECK (((address_type)::text = ANY ((ARRAY['delivery'::character varying, 'billing'::character varying])::text[])))"
      }
    },
    {
      "table_name": "user_login_logs",
      "constraint": {
        "constraint_name": "user_login_logs_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "user_sessions",
      "constraint": {
        "constraint_name": "user_sessions_session_token_key",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (session_token)"
      }
    },
    {
      "table_name": "users",
      "constraint": {
        "constraint_name": "users_store_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (store_id) REFERENCES stores(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "users",
      "constraint": {
        "constraint_name": "users_tenant_id_fkey",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "users",
      "constraint": {
        "constraint_name": "users_tenant_required",
        "constraint_type": "CHECK",
        "definition": "CHECK ((((role = 'super_admin'::user_role_simple) AND (tenant_id IS NULL)) OR (role = 'customer'::user_role_simple) OR ((role = ANY (ARRAY['staff'::user_role_simple, 'store_manager'::user_role_simple, 'tenant_admin'::user_role_simple])) AND (tenant_id IS NOT NULL))))"
      }
    },
    {
      "table_name": "voice_auth_logs",
      "constraint": {
        "constraint_name": "fk_voice_auth_logs_user_id",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL"
      }
    },
    {
      "table_name": "voice_profiles",
      "constraint": {
        "constraint_name": "fk_voice_profiles_user_id",
        "constraint_type": "FOREIGN KEY",
        "definition": "FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"
      }
    },
    {
      "table_name": "wishlist",
      "constraint": {
        "constraint_name": "unique_wishlist_item",
        "constraint_type": "UNIQUE",
        "definition": "UNIQUE (customer_id, product_id, store_id)"
      }
    }
  ]
}