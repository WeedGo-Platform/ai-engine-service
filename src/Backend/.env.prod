# ============================================================================
# PRODUCTION ENVIRONMENT
# ============================================================================
# Deployed to: Google Cloud Run
# URL: https://api.weedgo.com
# Frontends: https://weedgo.com, https://www.weedgo.com
# ============================================================================
# ⚠️  WARNING: This file contains production configuration
# ⚠️  All secrets must be managed via Cloud Secret Manager
# ⚠️  Never commit actual production secrets to version control
# ============================================================================

ENVIRONMENT=production

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# **REQUIRED**: Production database credentials
# Use Cloud SQL or managed PostgreSQL service
DB_HOST=REPLACE_WITH_PRODUCTION_DB_HOST
DB_NAME=REPLACE_WITH_PRODUCTION_DB_NAME
DB_USER=REPLACE_WITH_PRODUCTION_DB_USER
DB_PASSWORD=REPLACE_WITH_PRODUCTION_DB_PASSWORD
DB_PORT=5432
DATABASE_URL=postgresql://REPLACE_WITH_PRODUCTION_DB_USER:REPLACE_WITH_PRODUCTION_DB_PASSWORD@REPLACE_WITH_PRODUCTION_DB_HOST:5432/REPLACE_WITH_PRODUCTION_DB_NAME?sslmode=require

# ============================================================================
# API SERVICE (Cloud Run)
# ============================================================================
# Cloud Run sets PORT automatically (usually 8080)
API_HOST=0.0.0.0
API_PORT=8080
V5_PORT=8080
V5_HOST=0.0.0.0
API_BASE_URL=https://api.weedgo.com

# ============================================================================
# CORS CONFIGURATION (Environment-Driven)
# ============================================================================
# **REQUIRED**: List all Production frontend origins
# Semicolon-separated for Cloud Run YAML compatibility
CORS_ALLOWED_ORIGINS=https://weedgo.com;https://www.weedgo.com;https://app.weedgo.com;https://admin.weedgo.com
# Optional: No regex in production for tighter security
CORS_ORIGIN_REGEX=

# ============================================================================
# SECURITY
# ============================================================================
# **CRITICAL**: Use Google Cloud Secret Manager for these
# Never commit actual production secrets
SECRET_KEY=REPLACE_WITH_PRODUCTION_SECRET_KEY
JWT_SECRET_KEY=REPLACE_WITH_PRODUCTION_JWT_SECRET_KEY
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# REDIS CACHE
# ============================================================================
# **REQUIRED**: Production Redis instance (Upstash or Cloud Memorystore)
UPSTASH_REDIS_REST_URL=REPLACE_WITH_PRODUCTION_REDIS_URL
UPSTASH_REDIS_REST_TOKEN=REPLACE_WITH_PRODUCTION_REDIS_TOKEN

# ============================================================================
# THIRD-PARTY APIs
# ============================================================================
# **REQUIRED**: Production API keys
# Mapbox Geocoding API
MAPBOX_API_KEY=REPLACE_WITH_PRODUCTION_MAPBOX_KEY

# LLM Router API Keys (Production instances)
OPENROUTER_API_KEY=REPLACE_WITH_PRODUCTION_OPENROUTER_KEY
GROQ_API_KEY=REPLACE_WITH_PRODUCTION_GROQ_KEY

# ============================================================================
# PAYMENT (Stripe LIVE KEYS)
# ============================================================================
# **CRITICAL**: Use LIVE Stripe keys for production
# ⚠️  Never use test keys in production
STRIPE_SECRET_KEY=REPLACE_WITH_PRODUCTION_LIVE_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=REPLACE_WITH_PRODUCTION_LIVE_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=REPLACE_WITH_PRODUCTION_LIVE_STRIPE_WEBHOOK_SECRET

# ============================================================================
# COMMUNICATION - OTP/SMS/Email
# ============================================================================
# **REQUIRED**: Production communication services
# Twilio Configuration (for SMS OTP)
TWILIO_ACCOUNT_SID=REPLACE_WITH_PRODUCTION_TWILIO_SID
TWILIO_AUTH_TOKEN=REPLACE_WITH_PRODUCTION_TWILIO_TOKEN
TWILIO_PHONE_NUMBER=REPLACE_WITH_PRODUCTION_TWILIO_PHONE

# SendGrid Configuration (for Email OTP)
SENDGRID_API_KEY=REPLACE_WITH_PRODUCTION_SENDGRID_KEY
SENDGRID_FROM_EMAIL=noreply@weedgo.com
SENDGRID_FROM_NAME=WeedGo

# SMTP Configuration (Fallback - Production SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=REPLACE_WITH_PRODUCTION_SMTP_USER
SMTP_PASSWORD=REPLACE_WITH_PRODUCTION_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@weedgo.com
SMTP_FROM_NAME=WeedGo

# ============================================================================
# OTP CONFIGURATION (Standard Defaults)
# ============================================================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_MAX=5
OTP_RATE_LIMIT_WINDOW=60

# ============================================================================
# PRODUCTION FLAGS
# ============================================================================
DEBUG=false
LOG_LEVEL=WARNING
# Enable production monitoring
METRICS_ENABLED=true
HEALTH_CHECK_PATH=/health
READINESS_PATH=/ready
