# ============================================================================
# TEST ENVIRONMENT - TEMPLATE FILE
# ============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env.test
# 2. Replace all placeholder values with real credentials
# 3. NEVER commit .env.test to git
#
# Use this for testing and QA work
# Ports: Backend 6024, Frontend 6003, 600*
# ============================================================================

ENVIRONMENT=test

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# Local PostgreSQL instance (same as local, different namespace via DB name)
DB_HOST=localhost
DB_PORT=5434
DB_NAME=ai_engine
DB_USER=weedgo
DB_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
DATABASE_URL=postgresql://weedgo:CHANGE_ME@localhost:5434/ai_engine

# ============================================================================
# API SERVICE
# ============================================================================
API_HOST=0.0.0.0
API_PORT=6024
API_BASE_URL=http://localhost:6024
PORT=6024
V5_PORT=6024
V5_HOST=0.0.0.0

# ============================================================================
# CORS CONFIGURATION (Environment-Driven)
# ============================================================================
# Test frontend origins (60** ports)
CORS_ALLOWED_ORIGINS=http://localhost:6003,http://localhost:6004,http://localhost:6005,http://localhost:6024,http://localhost:3000,http://localhost:5173,http://localhost:5174,http://localhost:8081
# Optional: Allow Vercel preview deployments
CORS_ORIGIN_REGEX=https://.*\.vercel\.app

# ============================================================================
# SECURITY
# ============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# REDIS CACHE (Optional for test)
# ============================================================================
# Leave empty to skip Redis in test environment
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# ============================================================================
# THIRD-PARTY APIs
# ============================================================================

# Mapbox Geocoding API
# Get from: https://account.mapbox.com/access-tokens/
MAPBOX_API_KEY=GET_FROM_MAPBOX_DASHBOARD

# LLM Router API Keys (Cloud Inference Providers)
# OpenRouter (DeepSeek R1 - Reasoning Model)
# Get from: https://openrouter.ai/keys
# Free tier: 200 requests/day
OPENROUTER_API_KEY=GET_FROM_OPENROUTER_DASHBOARD

# Groq (Llama 3.3 70B - Ultra-Fast)
# Get from: https://console.groq.com/keys
# Free tier: 14,400 requests/day
GROQ_API_KEY=GET_FROM_GROQ_DASHBOARD

# ============================================================================
# PAYMENT (Stripe Test Keys)
# ============================================================================
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=GET_FROM_STRIPE_DASHBOARD_TEST_MODE
STRIPE_PUBLISHABLE_KEY=GET_FROM_STRIPE_DASHBOARD_TEST_MODE
STRIPE_WEBHOOK_SECRET=GET_FROM_STRIPE_WEBHOOKS_AFTER_SETUP

# ============================================================================
# COMMUNICATION - OTP/SMS/Email
# ============================================================================

# Twilio Configuration (for SMS OTP)
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=GET_FROM_TWILIO_DASHBOARD
TWILIO_AUTH_TOKEN=GET_FROM_TWILIO_DASHBOARD
TWILIO_PHONE_NUMBER=GET_FROM_TWILIO_DASHBOARD

# SendGrid Email Service
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=GET_FROM_SENDGRID_DASHBOARD
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=WeedGo

# SMTP Configuration (Alternative to SendGrid)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=GET_APP_SPECIFIC_PASSWORD_FROM_GMAIL

# ============================================================================
# STORAGE & MEDIA
# ============================================================================
# Cloudflare R2 (S3-compatible)
# Get from: https://dash.cloudflare.com/
R2_ACCOUNT_ID=GET_FROM_CLOUDFLARE_R2
R2_ACCESS_KEY_ID=GET_FROM_CLOUDFLARE_R2
R2_SECRET_ACCESS_KEY=GET_FROM_CLOUDFLARE_R2
R2_BUCKET_NAME=weedgo-media-test
R2_PUBLIC_URL=https://media-test.yourdomain.com

# ============================================================================
# MONITORING & ANALYTICS (Optional)
# ============================================================================
# Sentry Error Tracking
# Get from: https://sentry.io/settings/
SENTRY_DSN=GET_FROM_SENTRY_DASHBOARD_OPTIONAL

# PostHog Analytics
# Get from: https://posthog.com/
POSTHOG_API_KEY=GET_FROM_POSTHOG_OPTIONAL
POSTHOG_HOST=https://app.posthog.com

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_VOICE=true
ENABLE_RAG=true
ENABLE_ANALYTICS=true
USE_CLOUD_INFERENCE=true

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=DEBUG
ENABLE_REQUEST_LOGGING=true

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
#
# 1. Copy this file:
#    cp .env.test.example .env.test
#
# 2. Get API keys from each service:
#    - OpenRouter: https://openrouter.ai/keys
#    - Groq: https://console.groq.com/keys
#    - Mapbox: https://account.mapbox.com/access-tokens/
#    - Twilio: https://console.twilio.com/
#    - SendGrid: https://app.sendgrid.com/settings/api_keys
#    - Stripe: https://dashboard.stripe.com/test/apikeys
#
# 3. Generate secure secrets:
#    SECRET_KEY: openssl rand -hex 32
#    JWT_SECRET_KEY: openssl rand -hex 32
#    DB_PASSWORD: openssl rand -base64 32
#
# 4. Replace all GET_FROM_* placeholders with real values
#
# 5. NEVER commit .env.test to git!
#    It's already in .gitignore
#
# ============================================================================
