# ============================================================================
# UAT (User Acceptance Testing) ENVIRONMENT
# ============================================================================
# Deployed to: Google Cloud Run
# URL: https://weedgo-uat-backend-*.run.app
# Frontends: https://weedgo-uat-*.pages.dev
# ============================================================================

ENVIRONMENT=uat

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# **REQUIRED**: Set these to your UAT database credentials
# Neon PostgreSQL (or your cloud database provider)
DATABASE_URL=postgresql://neondb_owner:npg_49xrIFTtaqym@ep-super-mouse-a4vwh6l6-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require
DB_HOST=ep-super-mouse-a4vwh6l6-pooler.us-east-1.aws.neon.tech
DB_NAME=neondb
DB_USER=neondb_owner
DB_PASSWORD=npg_49xrIFTtaqym
DB_PORT=5432

# ============================================================================
# API SERVICE (Cloud Run)
# ============================================================================
# Cloud Run sets PORT automatically (usually 8080)
# These are fallbacks if PORT is not set
API_HOST=0.0.0.0
API_PORT=8080
V5_PORT=8080
V5_HOST=0.0.0.0
# Cloud Run will provide the actual URL
# API_BASE_URL will be set by Cloud Run environment

# ============================================================================
# CORS CONFIGURATION (Environment-Driven)
# ============================================================================
# **REQUIRED**: List all UAT frontend origins
# Semicolon-separated for Cloud Run YAML compatibility
CORS_ALLOWED_ORIGINS=https://weedgo-uat-admin.pages.dev;https://weedgo-uat-commerce-headless.pages.dev;https://weedgo-uat-commerce-pot-palace.pages.dev;https://weedgo-uat-commerce-modern.pages.dev
# Optional: Regex pattern for Cloudflare Pages preview deployments
CORS_ORIGIN_REGEX=https://.*\\.weedgo-uat-.*\\.pages\\.dev

# ============================================================================
# SECURITY
# ============================================================================
# **REQUIRED**: Set unique secrets for UAT
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_UAT_SECRET_KEY
JWT_SECRET_KEY=G5Z6z+VwaymtFvgzTDTMM8rhcUovzUG+AvRyKzlG/xc=
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# REDIS CACHE
# ============================================================================
# **REQUIRED**: Upstash Redis for UAT
UPSTASH_REDIS_REST_URL=https://powerful-ladybird-21805.upstash.io
UPSTASH_REDIS_REST_TOKEN=AVUtAAIncDI2ZTg1M2FjOGQzY2M0ZjM0OGU4NTc0MTA3ODJjMGQ0MXAxMA

# ============================================================================
# THIRD-PARTY APIs
# ============================================================================
# **REVIEW**: Consider using separate API keys for UAT
# Mapbox Geocoding API
MAPBOX_API_KEY=pk.eyJ1IjoiY2hhcnJjeSIsImEiOiJja2llcXF5eXcxNWx4MnlxeHAzbmJnY3g2In0.FC98EHBZh2apYVTNiuyNKg

# ============================================================================
# LLM CONFIGURATION
# ============================================================================
# CLOUD-FIRST MODE: Use cloud providers (no local models required)
USE_CLOUD_INFERENCE=true

# LLM Router API Keys (OK to share with dev/test for now)
OPENROUTER_API_KEY=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
GROQ_API_KEY=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

# ============================================================================
# PAYMENT (Stripe Test Keys - OK for UAT)
# ============================================================================
# Get from: https://dashboard.stripe.com/test/apikeys
# Consider using separate Stripe account for UAT
STRIPE_SECRET_KEY=REPLACE_WITH_STRIPE_TEST_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=REPLACE_WITH_STRIPE_TEST_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=REPLACE_WITH_UAT_WEBHOOK_SECRET

# ============================================================================
# COMMUNICATION - OTP/SMS/Email
# ============================================================================
# **REVIEW**: Consider separate Twilio/SendGrid for UAT
# Twilio Configuration (for SMS OTP)
TWILIO_ACCOUNT_SID=AC7fabaac1e3be386ed7aef21834f9805d
TWILIO_AUTH_TOKEN=927eabf31e8a7c214539964bdcd6d7ec
TWILIO_PHONE_NUMBER=+13433420247

# SendGrid Configuration (for Email OTP)
SENDGRID_API_KEY=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
SENDGRID_FROM_EMAIL=it@potpalace.cc
SENDGRID_FROM_NAME=WeedGo UAT

# SMTP Configuration (Fallback)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=charrcy@gmail.com
SMTP_PASSWORD=pkryohwdsfgbieyd
SMTP_FROM_EMAIL=charrcy@gmail.com
SMTP_FROM_NAME=WeedGo UAT

# ============================================================================
# OTP CONFIGURATION (Standard Defaults)
# ============================================================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_MAX=5
OTP_RATE_LIMIT_WINDOW=60

# ============================================================================
# UAT FLAGS
# ============================================================================
DEBUG=false
LOG_LEVEL=INFO
