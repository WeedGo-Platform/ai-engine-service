# ============================================================================
# BETA ENVIRONMENT
# ============================================================================
# Deployed to: Google Cloud Run (or Netlify/Vercel)
# URL: https://weedgo-beta-backend-*.run.app
# Frontends: https://weedgo-beta-*.netlify.app
# ============================================================================

ENVIRONMENT=beta

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# **REQUIRED**: Set these to your Beta database credentials
# Use a dedicated beta database instance
DB_HOST=REPLACE_WITH_BETA_DB_HOST
DB_NAME=REPLACE_WITH_BETA_DB_NAME
DB_USER=REPLACE_WITH_BETA_DB_USER
DB_PASSWORD=REPLACE_WITH_BETA_DB_PASSWORD
DB_PORT=5432
DATABASE_URL=postgresql://REPLACE_WITH_BETA_DB_USER:REPLACE_WITH_BETA_DB_PASSWORD@REPLACE_WITH_BETA_DB_HOST:5432/REPLACE_WITH_BETA_DB_NAME?sslmode=require

# ============================================================================
# API SERVICE (Cloud Run)
# ============================================================================
# Cloud Run sets PORT automatically (usually 8080)
API_HOST=0.0.0.0
API_PORT=8080
V5_PORT=8080
V5_HOST=0.0.0.0
# Cloud Run will provide the actual URL
# API_BASE_URL will be set by Cloud Run environment

# ============================================================================
# CORS CONFIGURATION (Environment-Driven)
# ============================================================================
# **REQUIRED**: List all Beta frontend origins
# Semicolon-separated for Cloud Run YAML compatibility
CORS_ALLOWED_ORIGINS=https://weedgo-beta-admin.netlify.app;https://weedgo-beta-commerce.netlify.app
# Optional: Regex pattern for Netlify preview deployments
CORS_ORIGIN_REGEX=https://.*\\.netlify\\.app

# ============================================================================
# SECURITY
# ============================================================================
# **REQUIRED**: Set unique secrets for Beta
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_BETA_SECRET_KEY
JWT_SECRET_KEY=REPLACE_WITH_BETA_JWT_SECRET_KEY
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# REDIS CACHE
# ============================================================================
# **REQUIRED**: Upstash Redis for Beta (or dedicated Redis instance)
UPSTASH_REDIS_REST_URL=REPLACE_WITH_BETA_REDIS_URL
UPSTASH_REDIS_REST_TOKEN=REPLACE_WITH_BETA_REDIS_TOKEN

# ============================================================================
# THIRD-PARTY APIs
# ============================================================================
# **REQUIRED**: Use dedicated API keys for Beta
# Mapbox Geocoding API
MAPBOX_API_KEY=REPLACE_WITH_BETA_MAPBOX_KEY

# LLM Router API Keys
OPENROUTER_API_KEY=REPLACE_WITH_BETA_OPENROUTER_KEY
GROQ_API_KEY=REPLACE_WITH_BETA_GROQ_KEY

# ============================================================================
# PAYMENT (Stripe)
# ============================================================================
# **IMPORTANT**: Use Stripe test keys for Beta, live keys only in Production
STRIPE_SECRET_KEY=REPLACE_WITH_BETA_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=REPLACE_WITH_BETA_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=REPLACE_WITH_BETA_STRIPE_WEBHOOK_SECRET

# ============================================================================
# COMMUNICATION - OTP/SMS/Email
# ============================================================================
# **REQUIRED**: Use dedicated Twilio/SendGrid for Beta
# Twilio Configuration (for SMS OTP)
TWILIO_ACCOUNT_SID=REPLACE_WITH_BETA_TWILIO_SID
TWILIO_AUTH_TOKEN=REPLACE_WITH_BETA_TWILIO_TOKEN
TWILIO_PHONE_NUMBER=REPLACE_WITH_BETA_TWILIO_PHONE

# SendGrid Configuration (for Email OTP)
SENDGRID_API_KEY=REPLACE_WITH_BETA_SENDGRID_KEY
SENDGRID_FROM_EMAIL=beta@weedgo.com
SENDGRID_FROM_NAME=WeedGo Beta

# SMTP Configuration (Fallback)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=REPLACE_WITH_BETA_SMTP_USER
SMTP_PASSWORD=REPLACE_WITH_BETA_SMTP_PASSWORD
SMTP_FROM_EMAIL=beta@weedgo.com
SMTP_FROM_NAME=WeedGo Beta

# ============================================================================
# OTP CONFIGURATION (Standard Defaults)
# ============================================================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=3
OTP_RATE_LIMIT_MAX=5
OTP_RATE_LIMIT_WINDOW=60

# ============================================================================
# BETA FLAGS
# ============================================================================
DEBUG=false
LOG_LEVEL=INFO
